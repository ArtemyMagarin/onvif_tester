{"version":3,"sources":["assets/letter-x.png","assets/tick.png","actions/dashboardActions.js","components/dashboard/devicesList.jsx","components/dashboard/deviceInfoTabContent.jsx","config.js","components/stream/stream.js","components/dashboard/deviceStreamTabContent.jsx","components/dashboard/deviceSettingsTabContent.jsx","components/dashboard/deviceDatabaseTabContent.jsx","reducers/dashboardReducer.js","reducers/testReducer.js","reducers/authReducer.js","reducers/index.js","middleware/apiMiddleware.js","store/index.js","store/configureStore.js","actions/testActions.js","components/dashboard/deviceTestTabContent.jsx","components/dashboard/deviceInfo.jsx","components/dashboard/dashboard.jsx","components/navbar/navbar.jsx","components/report/summary.jsx","components/report/modal.jsx","components/report/report.jsx","App.js","index.js"],"names":["module","exports","getDevicesList","type","api","url","method","getDevice","ip","port","data","getDeviceSnapshots","showCurrentDevice","refreshImage","killStream","ListItem","_ref","id","text","onClick","active","pending","react_default","a","createElement","key","className","concat","DevicesList","_React$Component","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","value","props","dashboardActions","_this","listItems","list","map","item","devicesList_ListItem","currentDevice","show","Fragment","data-toggle","href","role","aria-expanded","aria-controls","style","cursor","devices","React","Component","connect","state","dashboardReducer","dispatch","bindActionCreators","DashboardAction","DeviceInfoTabContent","currentDeviceData","apiUrl","StreamContainer","call","hls","Hls","loaded","supported","isSupported","_this2","video","document","getElementById","console","log","attachMedia","loadSource","on","Events","MANIFEST_PARSED","setState","play","dontkill","fetch","then","catch","stopLoad","controls","display","spinner","DeviceStreamTabContent","togglePicture","tab","prevSnapshot","currentSnapshot","snapshot_url","_React$createElement","_React$createElement2","stream_url","indexOf","Date","now","snapshot_avaliable","private_snapshot_url","includes","carouselItems","snapshotsList","src","alt","camera","datetime","toggler","checked","onChange","top","pointerEvents","image","stream_StreamContainer","defineProperty","data-target","private_stream_url","target","rel","tabIndex","aria-labelledby","aria-hidden","data-ride","data-slide","snapshots","DeviceSettingsTabContent","DeviceDatabaseTabContent","initialState","error","tests","currIndex","done","testInProgress","authError","isAuthenticated","currentUser","combineReducers","length","undefined","action","objectSpread","toConsumableArray","testReducer","updated_test","response","name","splice","index","result","resolution","authReducer","databaseReducer","_doRequest","dfd","$","resolve","fail","err","reject","promise","apiMiddleware","store","next","createStore","rootReducer","applyMiddleware","ReduxThunk","logger","configureStore","runTest","_store$getState$testR","getState","_store$getState$dashb","test","service","test_type","test_name","startTestAction","nextTest","closeTestAction","resolveTestManually","flatten","reduce","b","Array","isArray","DeviceTestTabContent","selected_test_type","left_column","right_column","chooseTestType","event","current_test","avaliable_tests","filter","available_tests","startTest","testActions","addToRightColumn","removeFromRightColumn","getAddFullListBtn","allTests","test_service","tooltip","title","placement","dropdownItems","device","leftItems","deviceTestTabContent_ListItem","rightItems","runBtn","aboutBtn","addAll","removeAll","addFullList","aboutModal","data-dismiss","aria-label","data-placement","data-html","data-animation","htmlFor","TestAction","DeviceInfo","currentTab","currentTabContent","deviceInfoTabContent","deviceStreamTabContent","deviceTestTabContent","deviceSettingsTabContent","deviceDatabaseTabContent","Dashboard","devicesList","deviceInfo","dashboard","Navbar","Summary","testResponse","summary","push","summaryItems","keys","sort","s","charAt","toUpperCase","slice","scope","report_name","report","split","i","lineHeight","Modal","onClose","testIsDone","onTestFailed","onTestPassed","onStart","Report","_Component","handleDownload","isReportReady","downloadReport","deviceData","testsList","camInfo","runnedTests","printResponses","checkboxChecked","headers","Accept","Content-Type","body","JSON","stringify","resp","json","window","open","returnBack","currTest","currTestIndex","testsDone","entries","showModal","modal","downloadBtn","disabled","class","backBtn","color","errorImg","fetchedImg","data-parent","extension","tCurrTest","modalTitle","e","handleCbChange","for","testsFetched","App","navbar","render","es","src_App"],"mappings":"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","file":"static/js/main.a1679c2a.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4wQRFQwgzBdb6QAAAL9JREFUSMfNlssKwjAQRQ9S8IMEm/rNiv6TtO609QeumyxC6COPoZhVnucOA3MnCB6CQdBhNARO8BLcEPQCCSaBM4JPnvlEcBK8LUQi1iho5w6KRBbhCxeyRDbhNSLJ8JUHzgye87AYngKohq+BzOALhfMJ5qPgbFX6YdRZkR8SNY5AE6wbv2cS/UXwnUlRvXcJuijnrZl3zcEtbGUTXi2SAi+xlWx4iZPGcPcXvWCXbrYqskfTv3sR629LL7j+APJRXoh+oaytAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4wQRFQs7CTMEwgAAASNJREFUSMft1UFKw1AQxvH/PKFtUJJ4gZbiIQQXggupd+jW2IU9iRcobVMEb+BGcCGtC6EeJ+kidWHGhVGw0heSJrvOOvy+vJl5PNhXTkkdaGvqdRUdKbxJTfgc6ACR1Iingl6bqnBnfNxW9CXDFWS4Dlb3UhWems8F0M3w248gGlUyZBu+c0AeDnBQeqCh31FJrXjpE7RCv6OazvNwAGlM3AcRzkxKPxnE7yVW8WYdrGbbvjci9ICT1PDsjN3TKvHvAJU+SAJ4tpAMXxTBf2fQCo/OVc0TcAhEBq6SIF6W6fnWIf8JUWIj9JIgXu6C/9ui5tS7BB5BHSBSZCDoHdAu0hbrmm6066cK/7n1HmyElMbt+z7zL5pT77Uxcfv7d7nW+gJ2L6x+MkAiEwAAAABJRU5ErkJggg==\"","export function getDevicesList() {\n    return {\n        type: 'GET_DEVICES_LIST',\n        api: {\n            url: '/api/devices',\n            method: 'GET'\n        },\n    };\n}\n\nexport function getDevice(ip, port) {\n    return {\n        type: 'GET_DEVICE',\n        api: {\n            url: '/api/device',\n            method: 'GET',\n            data : { ip, port }\n        },\n    };\n}\n\nexport function getDeviceSnapshots(ip, port) {\n    return {\n        type: 'GET_DEVICE_SNAPSHOTS',\n        api: {\n            url: '/api/get_snapshots',\n            method: 'GET',\n            data : { ip, port }\n        },\n    };\n}\n\nexport function showCurrentDevice() {\n\treturn {\n\t\ttype: 'HIDE_CURRENT_DEVICE',\n\t}\n}\n\nexport function refreshImage(ip, port) {\n    return {\n        type: 'REFRESH_SNAPSHOT_IMAGE',\n        api: {\n            url: '/api/current_snapshot',\n            method: 'GET',\n            data : { ip, port }\n        },\n    };\n}\n\nexport function killStream(ip, port) {\n    return {\n        type: 'KILL_STREAM',\n        api: {\n            url: '/api/stop_stream',\n            method: 'GET',\n            data : { ip, port }\n        },\n    };\n}","import React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as DashboardAction from '../../actions/dashboardActions';\nimport '../../styles/horizontal-loader.css';\n\n\nfunction mapStateToProps(state) {\n    return {\n        list: state.dashboardReducer.list.devices,\n        devices: state.dashboardReducer.list,\n        currentDevice: state.dashboardReducer.currentDevice,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        dashboardActions: bindActionCreators(DashboardAction, dispatch)\n    }\n}\n\nconst ListItem = ({id, text, onClick, active, pending}) => {\n    return (\n        <button key={id} type=\"button\" onClick={onClick} className={`list-group-item d-flex justify-content-between list-group-item-action${active?\" active\":\"\"}`}>\n            {text}\n            {pending?(<div className=\"typing_loader\"></div>):(null)}\n        </button>\n    )\n}\n\nexport class DevicesList extends React.Component {\n\n    componentDidMount() {\n        this.props.dashboardActions.getDevicesList();\n    }\n\n    render() {\n        const listItems = this.props.list.map((item, id) => (\n            <ListItem\n                key={id}\n                text={`${item.ip}:${item.port}`}\n                onClick={() => {this.props.dashboardActions.getDevice(item.ip, item.port)}}\n                active={this.props.currentDevice.data.ip === item.ip\n                        && this.props.currentDevice.data.port === item.port\n                        && this.props.currentDevice.show}\n                pending={this.props.currentDevice.data.ip === item.ip\n                        && this.props.currentDevice.data.port === item.port\n                        && this.props.currentDevice.pending}\n                />\n        ))\n\n        return (\n            <React.Fragment>\n                <div className=\"row mb-2\">\n                    <div className={'col d-flex align-items-baseline justify-content-between'}>\n                        <span className=\"h5 m-0\">\n                          Devices\n                          <i className=\"d-sm-inline-block d-md-none small align-middle material-icons ml-1\"\n                            data-toggle=\"collapse\" href=\"#collapseDevicesList\" role=\"button\" \n                            aria-expanded=\"false\" aria-controls=\"collapseDevicesList\" style={{'cursor': 'pointer'}}>\n                            radio_button_checked\n                          </i>\n                        </span>\n                        {this.props.devices.pending ? (\n                        <div className=\"typing_loader\"></div>):(\n                          <span className=\"m-0\">\n                            <i className=\"align-middle material-icons\" style={{'cursor': 'pointer'}}\n                            onClick={ () => {this.props.dashboardActions.getDevicesList()}}>refresh</i>\n                          </span>)}\n                    </div>\n                </div>\n                <div className=\"collapse show\" id=\"collapseDevicesList\">\n                    <div className=\"row\">\n                        <div className=\"col\">\n                            <div className=\"list-group\">\n                                {listItems}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </React.Fragment>\n            \n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DevicesList)\n","import React from 'react';\n\nconst DeviceInfoTabContent = (props) => {\n    return (\n        <div className=\"card-body\">\n            <h5 className=\"card-title\">Device Information:</h5>\n            <div className=\"card\">\n                <ul className=\"list-group list-group-flush\">\n                    <li className=\"list-group-item\">Address: {`${props.currentDeviceData['ip']}:${props.currentDeviceData['port']}`}</li>\n                    <li className=\"list-group-item\">Manufacturer: {props.currentDeviceData['Manufacturer']}</li>\n                    <li className=\"list-group-item\">Model: {props.currentDeviceData['Model']}</li>\n                    <li className=\"list-group-item\">Firmware Version: {props.currentDeviceData['Firmware Version']}</li>\n                    <li className=\"list-group-item\">Serial Number: {props.currentDeviceData['Serial Number']}</li>\n                    <li className=\"list-group-item\">Hardware ID: {props.currentDeviceData['Hardware ID']}</li>\n                </ul>\n            </div>\n        </div>\n    )\n}\n\nexport default DeviceInfoTabContent;\n","export const apiUrl = process.env.NODE_ENV === 'production' ? 'http://onvif.auditory.ru' : 'http://127.0.0.1:5000';\n","import React from 'react';\nimport { apiUrl } from '../../config';\nimport Hls from 'hls.js';\n\t\nexport default class StreamContainer extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tip: props.ip,\n\t\t\tport: props.port,\n\t\t\thls: (new Hls()),\n\t\t\tloaded: false,\n\t\t\tsupported: Hls.isSupported()\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tif (this.state.supported) {\n\t\t\tconst video = document.getElementById(`${this.state.ip}${this.state.port}`);\n\t\t\tconsole.log(video)\n\t\t\tthis.state.hls.attachMedia(video);\n\t\t\tthis.state.hls.loadSource(`${apiUrl}/livestream?ip=${this.state.ip}&port=${this.state.port}`);\n\t\t\tthis.state.hls.on(Hls.Events.MANIFEST_PARSED, () => { \n\t\t\t\tthis.setState({loaded: true})\n\t\t\t\tvideo.play() \n\t\t\t})\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\t!this.props.dontkill && fetch(`${apiUrl}/api/stop_stream?ip=${this.state.ip}&port=${this.state.port}`)\n\t\t.then(() =>{})\n\t\t.catch(() =>{})\n\t\t!this.props.dontkill && this.state.hls.stopLoad()\n\t}\n\n\trender() {\n\t\tconst video = (<video controls={true} className=\"w-100\" id={`${this.state.ip}${this.state.port}`} \n\t\t\tstyle={{'display': (this.state.loaded ? 'block': 'none')}}/>);\n\n\t\tconst spinner = this.props.spinner;\n\n\t\treturn this.state.supported ? ( \n\t\t\t<div className=\"position-relative\">\n\t\t\t\t{video}\n\t\t\t\t{!this.state.loaded ? (spinner) : (null)}\n\t\t\t</div>\n\t\t) : (<p>Stream is not supported on your device.</p>);\n\t}\n}\n\t","import React from 'react';\nimport { apiUrl } from '../../config';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as DashboardAction from '../../actions/dashboardActions';\nimport StreamContainer from '../stream/stream';\nimport '../../styles/switch.css';\nimport '../../styles/style.css';\n\n\nfunction mapStateToProps(state) {\n    return {\n        currentSnapshot: state.dashboardReducer.currentDevice.currentSnapshot,\n        snapshotsList: state.dashboardReducer.snapshotsList.snapshots\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        dashboardActions: bindActionCreators(DashboardAction, dispatch)\n    }\n}\n\nclass DeviceStreamTabContent extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            tab: 'snapshot',\n            prevSnapshot: props.snapshot_url\n        }\n    }\n\n    componentDidMount() {\n        console.log(this.props.currentDeviceData.ip)\n        console.log(this.props.currentDeviceData.port)\n        this.props.dashboardActions.getDeviceSnapshots(this.props.currentDeviceData.ip, this.props.currentDeviceData.port);\n        this.props.dashboardActions.refreshImage(this.props.currentDeviceData.ip, this.props.currentDeviceData.port)\n        console.log(this.props)\n    }\n\n    togglePicture = () => {\n        if (this.state.tab === 'snapshot') {\n            this.setState({tab: 'stream'});\n        } else {\n            this.setState({tab: 'snapshot'});\n        }\n    }\n\n    refreshImage = () => {\n      this.setState({prevSnapshot: this.props.currentSnapshot ? (this.props.currentSnapshot.url || this.state.prevSnapshot) : this.state.prevSnapshot})\n      this.props.dashboardActions.refreshImage(\n        this.props.currentDeviceData.ip,\n        this.props.currentDeviceData.port)\n    }\n\n    render() {\n        let url = apiUrl + (this.state.tab === 'snapshot' ? ((this.props.currentSnapshot && this.props.currentSnapshot.url) ? this.props.currentSnapshot.url : this.state.prevSnapshot): this.props.stream_url);\n        url = url + (~url.indexOf('?')?'&':'?') + `t=${Date.now()}`;\n\n        const snapshot_avaliable = this.props.private_snapshot_url ? !(this.props.private_snapshot_url.includes(\"rtsp\")) : null;\n\n        const carouselItems = this.props.snapshotsList ? this.props.snapshotsList.map((item, id) => (\n            <div key={id} className={`carousel-item ${id === 0 ? 'active': ''}`}>\n              <img src={`${apiUrl}${item.url}`} className=\"d-block w-100\" alt={`Snapshot${id}`}/>\n              <div className=\"carousel-caption\">\n                <h5>{item.camera}</h5>\n                <p>{item.datetime}</p>\n              </div>\n            </div>\n        )) : []\n\n        const toggler = (\n            <div className=\"switch-wrapper\">\n                Show snapshot\n                <label className=\"switch\">\n                    <input type=\"checkbox\" checked={this.state.tab === 'stream'} onChange={this.togglePicture}/>\n                    <span className=\"slider\"></span>\n                </label>\n                Show Stream\n            </div>\n        )\n        \n        const spinner = (<div style={{'top': 0, 'pointerEvents': 'none'}} className=\"d-flex justify-content-center align-items-center w-100 h-100 position-absolute\">\n                <div className=\"spinner-border text-primary\" role=\"status\">\n                  <span className=\"sr-only\">Loading...</span>\n                </div>\n              </div>)\n\n        const image = (this.state.tab === 'snapshot') ? (<div className=\"position-relative\">\n          {<img src={url} alt=\"snapshot\" className=\"stream-image\" onClick={() => {this.refreshImage()}}/>}\n          {(!this.props.currentSnapshot || this.props.currentSnapshot.pending) ? spinner : (null)}\n        </div>) : (<StreamContainer spinner={spinner} ip={this.props.currentDeviceData.ip} port={this.props.currentDeviceData.port}/>)\n\n\n        return (\n            <div className=\"card-body\">\n                <h5 className=\"card-title\">RTSP Stream:</h5>\n                <div className=\"card snapshot-card\">\n                <div className=\"row align-items-center\">\n                  <div className=\"col-sm-12 col-md-6\">{toggler}</div>\n                  <div className=\"col-sm-12 col-md-6\">\n                    <div>\n                      <button type=\"button\" className=\"btn btn-sm mr-2 btn-secondary\"\n                        type=\"button\" data-toggle=\"collapse\" data-target=\"#showRtspUrl\"\n                        aria-expanded=\"false\" aria-controls=\"showRtspUrl\">\n                        RTSP Url\n                      </button>\n                      <button type=\"button\" className=\"btn btn-sm mr-2 btn-secondary\"\n                        type=\"button\" data-toggle=\"collapse\" data-target=\"#showSnapshotUrl\"\n                        aria-expanded=\"false\" aria-controls=\"showSnapshotUrl\">\n                        Snapshot Url\n                      </button>\n                      <button type=\"button\" className=\"btn btn-sm btn-primary\"\n                        data-toggle=\"modal\" data-target=\".bd-slideshow-modal-lg\">\n                        Slideshow\n                      </button>\n                    </div>\n                  </div>\n                </div>\n                    {image}\n                </div>\n                <div className=\"collapse\" id=\"showRtspUrl\">\n                  RTSP avaliable at:\n                  <a href={this.props.private_stream_url}>\n                    {' ' + this.props.private_stream_url}\n                  </a>\n                </div>\n                <div className=\"collapse\" id=\"showSnapshotUrl\">\n                  {!this.props.private_snapshot_url ? ('Device does not support Snapshot or Snapshot Url content is not valid') : (!snapshot_avaliable ? 'Device does not support Snapshot or Snapshot Url content is not valid'\n                  : 'Snapshot avaliable at:')}\n                  {!this.props.private_snapshot_url ? (null) : (!snapshot_avaliable ? (null) :\n                    <a href={this.props.private_snapshot_url} target=\"_blank\" rel=\"noopener noreferrer\">\n                      {' ' + this.props.private_snapshot_url}\n                    </a>\n                  )}\n                </div>\n                <div className=\"modal fade bd-slideshow-modal-lg\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"myLargeModalLabel\" aria-hidden=\"true\">\n                  <div className=\"modal-dialog modal-lg\">\n                    <div className=\"modal-content\">\n                        <div id=\"carousel-slideshow\" className=\"carousel\" data-ride=\"carousel\">\n                            <div className=\"carousel-inner\">\n                              {carouselItems}\n                            </div>\n                            <a className=\"carousel-control-prev\" href=\"#carousel-slideshow\" role=\"button\" data-slide=\"prev\">\n                              <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n                              <span className=\"sr-only\">Previous</span>\n                            </a>\n                            <a className=\"carousel-control-next\" href=\"#carousel-slideshow\" role=\"button\" data-slide=\"next\">\n                              <span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n                              <span className=\"sr-only\">Next</span>\n                            </a>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DeviceStreamTabContent);\n","import React from 'react';\n\nconst DeviceSettingsTabContent = (props) => {\n    // TOD0: Device settings\n    return (\n        <div className=\"card-body\">\n            <h5 className=\"card-title\">Settings(beta):</h5>\n        </div>\n    )\n}\n\nexport default DeviceSettingsTabContent;","import React from 'react';\n\nconst DeviceDatabaseTabContent = (props) => {\n    // TOD0: Device db\n    return (\n        <div className=\"card-body\">\n            <h5 className=\"card-title\">Database:</h5>\n        </div>\n    )\n}\n\nexport default DeviceDatabaseTabContent;","const initialState = {\n  list: {\n    devices: [],\n    pending: false,\n    error: false\n  },\n\n  currentDevice: {\n    data: {},\n    pending: false,\n    error: false,\n    show: false,\n\n    currentSnapshot: {\n      url: null,\n      pending: false,\n      error: false\n    }\n  },\n\n  snapshotsList: {\n    snapshots: [],\n    pending: false,\n    error: false\n  }\n\n};\n\nexport default function dashboardReducer(state = initialState, action) {\n\n    switch (action.type) {\n      case \"GET_DEVICES_LIST\": {\n        if (action.data) {\n          const list = {\n            devices: action.data,\n            pending: false,\n            error: false\n          }\n          return { ...state, list }\n        }\n        break\n      }\n      case \"GET_DEVICES_LIST__PENDING\": {\n      const list = {\n        devices: [],\n        pending: true,\n        error: false\n      }\n      const currentDevice = {\n          data: {},\n          pending: false,\n          error: false,\n          show: false\n        }\n\n      return { ...state, currentDevice, list }\n      }\n      case \"GET_DEVICES_LIST__ERROR\": {\n      const list = {\n        devices: [],\n        pending: false,\n        error: true\n      }\n      return { ...state, list }\n      }\n\n\n      case \"GET_DEVICE\": {\n        if (action.data) {\n          const currentDevice = {\n            data: action.data,\n            pending: false,\n            error: false,\n            show: true\n          }\n          return { ...state, currentDevice }\n        }\n        break\n      }\n\n      case \"GET_DEVICE__PENDING\": {\n      const currentDevice = {\n        data: {...action.api.data},\n          pending: true,\n          error: false,\n          show: false\n      }\n      return { ...state, currentDevice }\n      }\n\n      case \"GET_DEVICE__ERROR\": {\n        const currentDevice = {\n        data: {},\n          pending: false,\n          error: true,\n          show: false\n      }\n      return { ...state, currentDevice }\n      }\n\n      case \"GET_DEVICE_SNAPSHOTS\": {\n          const snapshotsList = {\n            snapshots: action.data,\n            pending: false,\n            error: false,\n          }\n          return { ...state, snapshotsList }\n      }\n\n      case \"GET_DEVICE_SNAPSHOTS__PENDING\": {\n      const snapshotsList = {\n        data: {...action.api.data},\n          pending: true,\n          error: false,\n      }\n      return { ...state, snapshotsList }\n      }\n\n      case \"GET_DEVICE_SNAPSHOTS__ERROR\": {\n        const snapshotsList = {\n        data: {},\n          pending: false,\n          error: true,\n      }\n      return { ...state, snapshotsList }\n      }\n\n      case \"HIDE_CURRENT_DEVICE\": {\n        const currentDevice = { ...state.currentDevice, show: false }\n        return { ...state,  ...currentDevice }\n      }\n\n      case \"REFRESH_SNAPSHOT_IMAGE\": {\n        const currentSnapshot = {\n          url: action.data.url,\n          pending: false,\n          error: false\n        }\n        const currentDevice = {\n          ...state.currentDevice,\n          currentSnapshot\n        }\n        const snapshots = [...state.snapshotsList.snapshots, {...action.data}]\n        const snapshotsList = {...state.snapshotsList, snapshots}\n        return { ...state,  currentDevice, snapshotsList }\n      }\n      case \"REFRESH_SNAPSHOT_IMAGE__PENDING\": {\n       const currentSnapshot = {\n          url: null,\n          pending: true,\n          error: false\n        }\n        const currentDevice = {\n          ...state.currentDevice,\n          currentSnapshot\n        }\n        return { ...state,  currentDevice }\n\n      }\n      case \"REFRESH_SNAPSHOT_IMAGE__ERROR\": {\n        const currentSnapshot = {\n          url: null,\n          pending: false,\n          error: true\n        }\n        const currentDevice = {\n          ...state.currentDevice,\n          currentSnapshot\n        }\n        return { ...state,  currentDevice }\n\n      }\n\n      default: {\n        break\n      }\n    }\n    return state\n}","const initialState = {\n  tests: [],\n  currIndex: 0,\n  done: false,\n  testInProgress: false,\n}\n\n\nexport default function testReducer(state=initialState, action) {\n  switch (action.type) {\n    case \"INIT_TESTS\": {\n      if (action.data) {\n        const tests = action.data.map(item => ({\n          ...item, \n          pending: false, \n          error: false,\n          data: {},\n        }))\n        const currIndex = 0;\n        return { ...state, tests, currIndex, testInProgress: true }\n      }\n      return state\n    }\n\n    case \"CLOSE_TEST\":\n      return {...state, currIndex: 0, testInProgress: false}\n\n    case \"NEXT_TEST\":\n      return {...state, currIndex: state.currIndex+1}\n\n    case \"RUN_TEST\": {\n      if (action.data) {\n        let tests = [...state.tests]\n        const updated_test = {\n          ...tests[state.currIndex],\n          pending: false,\n          error: false,\n          data: {...action.data.response}\n        }\n        tests[state.currIndex] = updated_test\n        // if interactive, go next test manually\n        const currIndex = ~updated_test.name.indexOf('Interactive') ? state.currIndex : state.currIndex+1\n        return {...state, tests, currIndex, done: state.currIndex >= tests.length-1 }\n      }\n      return state\n    }\n\n    case \"RUN_TEST__PENDING\": {\n      let tests = [...state.tests]\n      const updated_test = {\n        ...state.tests[state.currIndex],\n        pending: true,\n      }\n      tests.splice(state.currIndex, 1, updated_test)\n      return {...state, tests }\n    }\n\n    case \"RUN_TEST__ERROR\": {\n      let tests = [...state.tests]\n      const updated_test = {\n        ...state.tests[state.currIndex],\n        pending: false,\n        error: true,\n        data: {...action.data.response}\n      }\n      tests.splice(state.currIndex, 1, updated_test)\n      // if interactive, go next test manually\n      const currIndex = ~updated_test.name.indexOf('Interactive') ? state.currIndex : state.currIndex+1\n      return {...state, tests, currIndex, done: state.currIndex >= tests.length-1 }\n    }\n\n    case 'RESOLVE_TEST_MANUALLY': {\n      if (!state.tests[action.data.index].pending) {\n        let tests = [...state.tests]\n        const result = {...state.tests[action.data.index].data.result, supported: action.data.resolution}\n        \n        const updated_test = {\n          ...state.tests[action.data.index],\n          pending: false,\n          error: false,\n          data: {...state.tests[action.data.index].data, result}\n        }\n        tests.splice(action.data.index, 1, updated_test)\n        return {...state, tests }\n      }\n      return state\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n","const initialState = {\n    authError: null,\n    isAuthenticated: null,\n    currentUser: {\n\n    }\n};\n\nexport default function authReducer(state = initialState, action) {\n\n    switch(action.type) {\n        case 'SIGNIN__ERROR':\n            console.log('SignIn error')\n            return {\n                ...state\n            }\n\n        case 'SIGNIN__SUCCESS' :\n            console.log('SignIn Success')\n            return {\n                ...state\n            }\n\n        case 'SIGNOUT__SUCCESS' :\n            console.log('SignOut success');\n            return state;\n\n        case 'SIGNUP__SUCCESS':\n            console.log('SignUp success');\n\n            return {\n                ...state\n            }\n\n        case 'SIGNUP__ERROR':\n            console.log('signUp error');\n            return {\n                ...state\n            }\n\n            default:\n                return state;\n    }\n}\n\n","import { combineReducers } from 'redux'\nimport dashboardReducer from './dashboardReducer'\nimport testReducer from './testReducer'\nimport authReducer from './authReducer'\nimport databaseReducer from './databaseReducer'\n\nexport default combineReducers({\n    dashboardReducer,\n    testReducer,\n    authReducer,\n    databaseReducer\n})","import { apiUrl } from '../config'\nimport * as $ from 'jquery';\n\n\nconst apiMiddleware = store => next => action => {\n    var type = action.type;\n    if (action.api) {\n        _doRequest(action).done(function(data){\n            action.type = type;\n            action.data = data;\n            delete action.api;\n            next(action);\n        }).fail(function(data){\n            action.type = type + \"__ERROR\";\n            action.data = data;\n            next(action); \n        });\n        action.type = type + \"__PENDING\";\n        next(action);\n    } else {\n        next(action);\n    }\n}\n\nconst _doRequest = function(action) {\n    const dfd = $.Deferred();\n\n    action.api.url = apiUrl + action.api.url;\n\n    $.ajax( action.api )\n    .done(function(data){\n        dfd.resolve(data);\n    })\n    .fail(function(err){\n        dfd.reject(err);\n    });\n\n    return dfd.promise();\n}\n\nexport default apiMiddleware","import configureStore from './configureStore'\n\nconst store = configureStore()\n\nexport default store;","import { createStore, applyMiddleware } from 'redux'\nimport ReduxThunk from 'redux-thunk' \nimport logger from 'redux-logger'\t\nimport rootReducer from '../reducers'\nimport apiMiddleware from '../middleware/apiMiddleware'\n\nexport default function configureStore(initialState = {}) {\n  const store = createStore(\n  \trootReducer,\n  \tapplyMiddleware(ReduxThunk, apiMiddleware, logger),\n\n  )\n  return store\n}","import store from '../store'\n\n\nexport function runTest() {\n    const {tests, currIndex} = store.getState().testReducer;\n    const {ip, port} = store.getState().dashboardReducer.currentDevice.data\n\n    const test = tests[currIndex];\n    \n    return {\n        type: 'RUN_TEST',\n        api: {\n            url: `/api/${test.service}_test/${test.name}?ip=${ip}&port=${port}`,\n            method: 'POST',\n            data: { test_type: test.service, test_name: test.name, ip, port }\n        }\n    } \n}\n\nexport function startTestAction(listItems) {\n    return {\n        type: 'INIT_TESTS',\n        data: [...listItems]\n    };\n}\n\nexport function nextTest() {\n    return {\n        type: 'NEXT_TEST',\n    };\n}\n\nexport function closeTestAction() {\n    return {\n        type: 'CLOSE_TEST',\n    };\n}\n\nexport function resolveTestManually(resolution, index) {\n    return {\n        type: 'RESOLVE_TEST_MANUALLY',\n        data: { resolution, index }\n    }\n}\n\n\n","import React, { Component } from 'react';\nimport * as $ from 'jquery';\nimport '../../styles/tooltip.css'\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as TestAction from '../../actions/testActions';\n\n\nconst ListItem = ({id, text, onClick}) => {\n    return (\n        <button key={id} type=\"button\" onClick={onClick} className={`list-group-item d-flex justify-content-between list-group-item-action`}>\n          {text}\n        </button>\n    )\n}\n\nconst flatten = list => list.reduce(\n    (a, b) => a.concat(Array.isArray(b) ? flatten(b) : b), []\n);\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n      testActions: bindActionCreators(TestAction, dispatch)\n  }\n}\n\n\nclass DeviceTestTabContent extends Component {\n\n    state = {\n      selected_test_type: null,\n      left_column: [],\n      right_column: []\n    }\n\n    chooseTestType = (event) => {\n      let current_test = this.props.currentDeviceData.avaliable_tests.filter(test_type => test_type.service === event.target.value);\n      let available_tests = current_test.length > 0 ? current_test[0].available_tests : [];\n      \n      this.setState({        \n        selected_test_type: event.target.value,\n        left_column: available_tests\n          .filter(test => (this.state.right_column.filter(test => test.name === test && test.service === event.target.value).length === 0))\n          .map(test_name => ({ name: test_name, service: event.target.value }))\n      });\n    }\n\n    startTest = (listItems) => {\n      // console.log(listItems)\n      this.props.testActions.startTestAction(listItems);\n    }\n\n    addToRightColumn = (name, service) => {\n      if (this.state.right_column.filter(test => test.name === name && test.service === service).length === 0) {\n        this.setState({\n          right_column: [ { name, service }, ...this.state.right_column ]\n        })\n      }\n    }\n\n    removeFromRightColumn = (name, service) => {\n      this.setState({\n          right_column: this.state.right_column.filter(item => !(item.name === name && item.service === service))\n      })\n    }\n\n    getAddFullListBtn = () => {\n      let avaliable_tests = this.props.currentDeviceData.avaliable_tests;\n      let allTests = flatten(avaliable_tests.map(test_service => test_service.available_tests.map(name => ({name, service: test_service.service}))));\n      return (<button className=\"ml-3 btn btn-primary\" onClick={() => { this.setState({right_column: [...allTests]}) }}>{`Add all ${allTests.length} tests`}</button>) \n    }\n\n    componentDidMount() {\n      $('[data-toggle=\"tooltip\"]').tooltip({\n        title: \"<em>1.Select test <b><u>type</u></b>.</em> <br><em>2.Choose tests and add them into right column.<br>3.When Run button pressed, tests from the right column will be executed.<br> 4.Click on the test name to add or remove from the list.</em>\",\n        placement: 'bottom'\n      });\n    }\n\n    render() {\n\n        // Collections\n\n        const { currentDeviceData } = this.props;\n        const dropdownItems = currentDeviceData['Supported Services'].map((device, id) =>                 \n          <option \n            key={id}\n            value={device}>\n              {device}\n          </option>\n        ) \n\n        const leftItems = this.state.left_column\n        .filter(item => (this.state.right_column.filter(test => test.name === item.name && test.service === item.service).length === 0))\n        .map((item, id) => (\n            <ListItem \n                key={id} \n                text={`${id + 1}.${item.name} (${item.service})`} \n                onClick={() => { this.addToRightColumn(item.name, item.service) }}\n            />\n        ))  \n\n        const rightItems = this.state.right_column.map((item, id) => (\n            <ListItem \n                key={id} \n                text={`${id + 1}.${item.name} (${item.service})`} \n                onClick={() => { this.removeFromRightColumn(item.name, item.service) }}\n            />\n        ))  \n\n        // Buttons\n\n        const runBtn = (\n            <button className=\"ml-3 btn btn-primary\" onClick={() => { this.startTest(this.state.right_column)}}>\n              {`Run ${this.state.right_column.length} test${this.state.right_column.length===1?'':'s'}`}\n            </button>)\n\n        const aboutBtn = (\n            <button className=\"ml-3 btn btn-secondary\" data-toggle=\"modal\" data-target=\"#aboutTest\">\n              About tests\n            </button>)   \n\n        const addAll = leftItems.length > 0 ? (\n            <button className=\"mb-3 btn btn-success\" \n              onClick={() => { this.setState({right_column: [...this.state.left_column, ...this.state.right_column]})}}>\n              Add all to the right\n            </button>) : (null); \n\n        const removeAll = rightItems.length > 0 ? (\n            <button className=\"mb-3 btn btn-danger\" \n              onClick={() => { this.setState({right_column: []}) }}>\n              Empty list\n            </button>) : (null);    \n        \n        const addFullList = this.getAddFullListBtn();\n\n        // Modal\n\n        const aboutModal = (\n          <div className=\"modal fade\" id=\"aboutTest\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"aboutTestTitle\" aria-hidden=\"true\">\n            <div className=\"modal-dialog modal-dialog-scrollable\" role=\"document\">\n              <div className=\"modal-content\">\n                <div className=\"modal-header\">\n                  <h5 className=\"modal-title\" id=\"aboutTestTitle\">Modal title</h5>\n                  <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                    <span aria-hidden=\"true\">&times;</span>\n                  </button>\n                </div>\n                <div className=\"modal-body\">\n                  ...\n                </div>\n                <div className=\"modal-footer\">          \n                  <button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\">Close</button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )\n\n        return (\n          <React.Fragment>\n            <div className=\"card-body\">\n              <div className=\"row mb-2\">\n                <div className={'col d-flex'}>                  \n                  <span className=\"h5 m-0\">\n                    <h5 className=\"card-title\">Device Test:</h5> \n                  </span>\n                  <span className=\"ml-1\">\n                    <i className=\"align-middle material-icons\" data-toggle=\"tooltip\" \n                      data-placement=\"bottom\" data-html=\"true\" style={{'cursor': 'pointer'}}\n                      data-animation=\"true\">\n                      info\n                    </i>\n                  </span>\n                </div>\n                </div>\n              <div className=\"form-inline\">\n                <div className=\"form-group\">\n                  <label className=\"my-1 mr-2\" htmlFor=\"selectTestDropdown\">Test type:</label>\n                  <select \n                    id=\"selectTestDropdown\"\n                    value={this.state.selected_test_type ? this.state.selected_test_type : ''} \n                    className=\"form-control\"\n                    onChange={this.chooseTestType}\n                  >\n                    <option value=\"not selected\">not selected</option>\n                    { dropdownItems }\n                  </select>\n                </div>\n                <div className=\"form-group d-flex justify-content-between\">\n                  {aboutBtn}\n                  {aboutModal}\n                  {addFullList}\n                  {runBtn}\n                </div>\n              </div>\n            </div>\n            <div className=\"card-body\">\n              <div className=\"row\">\n                <div className=\"col\">\n                    {addAll}\n                    <div className={(this.state.selected_test_type && \n                    this.state.selected_test_type !== 'not selected') ? \n                    \"list-group pre-scrollable\" : \"list-group\"}>\n                      {leftItems}\n                    </div>\n                </div>\n                <div className=\"col\">\n                    {removeAll}\n                    <div className={(this.state.selected_test_type && \n                    this.state.selected_test_type !== 'not selected') ? \n                    \"list-group pre-scrollable\" : \"list-group\"}>\n                        {rightItems}\n                    </div>\n                </div>\n              </div>\n            </div>\n          </React.Fragment>\n        )\n    }\n}\n\nexport default connect(null, mapDispatchToProps)(DeviceTestTabContent);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as DashboardAction from '../../actions/dashboardActions';\nimport '../../styles/loader.css';\n\nimport DeviceInfoTabContent from './deviceInfoTabContent.jsx'\nimport DeviceStreamTabContent from './deviceStreamTabContent.jsx'\nimport DeviceSettingsTabContent from './deviceSettingsTabContent.jsx'\nimport DeviceDatabaseTabContent from './deviceDatabaseTabContent.jsx'\nimport DeviceTestTabContent from './deviceTestTabContent.jsx'\n\nfunction mapStateToProps(state) {\n    return {\n        list: state.dashboardReducer.list,\n        currentDevice: state.dashboardReducer.currentDevice,\n        currentDeviceData: state.dashboardReducer.currentDevice.data\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        dashboardActions: bindActionCreators(DashboardAction, dispatch)\n    }\n}\n\n\nexport class DeviceInfo extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            currentTab: 'testing'\n        }\n    }\n\n    render() {\n        let currentTabContent = (null);\n\n        if (this.state.currentTab === 'info') {\n            currentTabContent = (<DeviceInfoTabContent currentDeviceData={this.props.currentDeviceData}/>)\n        }\n\n        if (this.state.currentTab === 'stream') {\n            currentTabContent = (<DeviceStreamTabContent\n            snapshot_url={this.props.currentDeviceData['snapshot_url']}\n            private_snapshot_url = {this.props.currentDeviceData['private_snapshot_url']}\n            stream_url={this.props.currentDeviceData['stream_url']}\n            private_stream_url = {this.props.currentDeviceData['private_stream_url']}\n            currentDeviceData = {this.props.currentDeviceData} />);\n        }\n\n        if (this.state.currentTab === 'testing') {\n            currentTabContent = (<DeviceTestTabContent currentDeviceData={this.props.currentDeviceData}/>);\n        }\n\n        if (this.state.currentTab === 'settings') {\n            currentTabContent = (<DeviceSettingsTabContent currentDeviceData={this.props.currentDeviceData}/>);\n        }\n\n        if (this.state.currentTab === 'database') {\n            currentTabContent = (<DeviceDatabaseTabContent currentDeviceData={this.props.currentDeviceData}/>);\n        }\n\n        if (this.props.currentDevice.show) {\n            return (\n                <div className=\"card text-left\">\n                  <div className=\"card-header\">\n                    <ul className=\"nav nav-pills card-header-tabs\">\n                      <li className=\"nav-item\">\n                        <a\n                            className={`nav-link ${this.state.currentTab === 'info'?'active':''}`} \n                            onClick={()=>{this.setState({currentTab: 'info'})}}\n                            href=\"#\">\n                                Information\n                        </a>\n                      </li>\n                      <li className=\"nav-item\">\n                        <a\n                            className={`nav-link ${this.state.currentTab === 'stream'?'active':''}`} \n                            onClick={()=>{this.setState({currentTab: 'stream'})}}\n                            href=\"#\">\n                                Stream\n                        </a>\n                      </li>\n                      <li className=\"nav-item\">\n                        <a\n                            className={`nav-link ${this.state.currentTab === 'testing'?'active':''}`} \n                            onClick={()=>{this.setState({currentTab: 'testing'})}}\n                            href=\"#\">\n                                Testing\n                        </a>\n                      </li>\n                      <li className=\"nav-item\">\n                        <a\n                            className={`nav-link ${this.state.currentTab === 'settings'?'active':''}`} \n                            onClick={()=>{this.setState({currentTab: 'settings'})}}\n                            href=\"#\">\n                                Settings\n                        </a>\n                      </li>\n                      <li className=\"nav-item\">\n                        <a\n                            className={`nav-link ${this.state.currentTab === 'database'?'active':''}`} \n                            onClick={()=>{this.setState({currentTab: 'database'})}}\n                            href=\"#\">\n                                Database\n                        </a>\n                      </li>\n                    </ul>\n                  </div>\n                  {currentTabContent}\n                </div>\n            )\n        } else {\n            return (\n                <div className=\"card text-center\">\n                  <div className=\"card-body d-flex align-items-center justify-content-center\">\n                    <h4 className=\"card-title text-center mb-0\">{this.props.currentDevice.pending || this.props.list.pending ?'Loading...':'Choose device from the list'}</h4>\n                    {this.props.currentDevice.pending || this.props.list.pending ? (<div className=\"loader\"></div>):(null)}\n                  </div>\n                </div>\n            )\n        }\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DeviceInfo)\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as DashboardAction from '../../actions/dashboardActions';\nimport DevicesList from './devicesList.jsx';\nimport DeviceInfo from './deviceInfo.jsx';\n\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tdashboard: state.dashboardReducer.list,\n\t\tcurrentDevice: state.dashboardReducer.currentDevice,\n\t};\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        dashboardActions: bindActionCreators(DashboardAction, dispatch)\n    }\n}\n\n\nexport class Dashboard extends React.Component {\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-sm-12 col-md-3  mb-3\">\n\t\t\t\t\t<DevicesList/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-sm-12 col-md-9\">\n\t\t\t\t\t<DeviceInfo/>\n\t\t\t\t</div>\n\t\t\t</div>\t\t\t\n\t\t);\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Dashboard)\n","import React from 'react';\n\nconst Navbar = (props) => {\n\treturn (\n\t\t<nav className=\"navbar navbar-dark bg-primary mb-3\">\n\t\t \t<a className=\"navbar-brand\" href=\"#\">\n\t\t\t    { /*<img src={brand} height={\"30\"} className={\"d-inline-block align-top mr-4\"} alt={\"\"}/> */}\n\t\t\t    ONVIF Compliance Tester\n\t\t\t</a>\n\t\t</nav>\n\t)\n}\n\nexport default Navbar;","import React from 'react';\n\nconst Summary = (props) => {\n\n    const result = props.testResponse.reduce((summary, item) => {\n        summary[item.service] = summary[item.service] || [];\n        summary[item.service].push(item);\n        return summary;\n      }, {});\n\n    // console.log(result);\n\n    const capitalize = s => s.charAt(0).toUpperCase() + s.slice(1)\n\n    const summaryItems = Object.keys(result).sort().map((key, id) => (\n        <React.Fragment key={id}>\n            <p><b>{capitalize(key)}:</b></p>\n            <table className=\"table table-bordered table-responsive-md\">\n                <tbody>\n                    {result[key].map((item, id) => (\n                        <tr className=\"row m-0\" key={id}>\n                          <th className=\"col-1\"scope=\"row\">{id+1}</th>\n                          {item.data.result ?\n                          <td className=\"col-5\">{ item.data.result.report_name }</td> : (null)}\n                          {item.data.result ?\n                          <td className={`col-6 ${item.data.result.supported ? \"text-success\":\"text-danger\"}`}>\n                          {item.data.result.supported ? \"Supported\" : \"Not supported\"}\n                          {item.data.result.report ?\n                            <React.Fragment>\n                              <button className=\"ml-3 btn btn-secondary btn-sm\" data-toggle=\"collapse\" data-target={`#features${id}`}>View</button>\n                              <div id={`features${id}`} className=\"collapse\">\n                                {item.data.result.report.split(\"\\n\").map((i,key) => {\n                                  return <p style={{'lineHeight': '20px'}}\n                                  className=\"text-dark mt-2\" key={key}>{i}</p>;\n                                })}\n                              </div>\n                            </React.Fragment>\n                          : (null)\n                          }\n                          </td>: (null)}\n                        </tr>\n                    ))}\n                </tbody>\n            </table>\n        </React.Fragment>)\n    );\n\n    // console.log(summaryItems);\n\n\treturn (\n        <React.Fragment>\n            { summaryItems }\n        </React.Fragment>\n    )\n}\n\nexport default Summary;","import React from 'react';\nimport StreamContainer from '../stream/stream'\n// Modal for ClassInteractiveTest with snapshots\n\nconst Modal = (props) => {\n\treturn (\n        <div className=\"modal fade\" id={props.id} tabIndex=\"-1\" role=\"dialog\">\n        <div className=\"modal-dialog modal-lg modal-dialog-scrollable\" role=\"document\">\n            <div className=\"modal-content\">\n            <div className=\"modal-header\">\n                <h5 className=\"modal-title\" onClick={()=>{props.onClose && props.onClose()}}>{`${props.title}`}</h5>\n                <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <div className=\"modal-body\">\n                <StreamContainer dontkill={true} ip={props.ip} port={props.port}/>\n            </div>\n            <div className=\"modal-footer\">\n                {props.testIsDone && <React.Fragment>\n                    <button type=\"button\" className=\"btn btn-danger\" onClick={()=>{props.onTestFailed && props.onTestFailed()}}>Failed</button>\n                    <button type=\"button\" className=\"btn btn-success\" onClick={()=>{props.onTestPassed && props.onTestPassed()}}>Passed</button>\n                </React.Fragment>}\n                {(props.testInProgress && !props.testIsDone) ? (<span>Test in progress...</span>) : (null)}\n                {(!props.testInProgress && !props.testIsDone) ? (<button type=\"button\" className=\"btn btn-primary\" onClick={()=>{props.onStart && props.onStart()}}>Start the test</button>) : (null)}\n                \n            </div>\n            </div>\n        </div>\n        </div>\n\t)\n}\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport Summary from './summary.jsx'\nimport * as TestAction from '../../actions/testActions';\nimport '../../styles/horizontal-loader.css';\nimport { apiUrl } from '../../config';\nimport errorImg from '../../assets/letter-x.png'\nimport fetchedImg from '../../assets/tick.png'\nimport Modal from './modal.jsx'\nimport $ from 'jquery';\n\n\nfunction mapStateToProps(state) {\n    return {\n        currentDevice: state.dashboardReducer.currentDevice.data,\n        testsList: state.testReducer.tests,\n        testsFetched: state.testReducer.testInProgress,\n        testsDone: state.testReducer.done,\n        currTestIndex: state.testReducer.currIndex,\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        testActions: bindActionCreators(TestAction, dispatch)\n    }\n}\n\n\n\nexport class Report extends Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        isReportReady: false,\n        checkboxChecked: false\n      }\n    }\n\n    handleCbChange(event) {\n      this.setState({ checkboxChecked: event.target.checked });\n    }\n\n    handleDownload = (value) => {\n        this.setState(\n          {\n            isReportReady: value\n          }\n        )\n    }\n\n    componentDidMount() {\n        this.runTest()\n    }\n    componentDidUpdate() {\n        this.runTest()\n    }\n\n    runTest() {\n        const currTest = this.props.testsList[this.props.currTestIndex];\n        if (!this.props.testsDone \n            && currTest\n            && !currTest.pending\n            && Object.entries(currTest.data).length === 0\n            && !this.state.showModal) {\n\n            if (~currTest.name.indexOf('Interactive')) {\n                $('#streamModal').modal('show')\n            } else {\n                $('#streamModal').modal('hide')\n               this.props.testActions.runTest() \n            }\n        }\n    }\n\n    resolveTestManually(resolution, index) {\n        this.props.testActions.nextTest()\n        this.props.testActions.resolveTestManually(resolution, index)\n    }\n\n    downloadReport = () => {\n      this.handleDownload(true);\n    \tconst deviceData = { ...this.props.currentDevice };\n    \tconst testsList = this.props.testsList\n        .filter(item => !item.pending && !item.error);\n\n      const result = testsList.reduce((summary, item) => {\n        summary[item.service] = summary[item.service] || [];\n        summary[item.service].push(item);\n        return summary;\n      }, {});\n\n    \tconst data = {\n    \t\tcamInfo: {...deviceData},\n        runnedTests: {...result},\n        printResponses: this.state.checkboxChecked\n      }\n\n      console.log(data);\n\n    \tfetch(`${apiUrl}/api/report`, {\n    \t \tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t  'Accept': 'application/json',\n\t\t\t  'Content-Type': 'application/json'\n\t\t\t},\n    \t\tbody: JSON.stringify(data) })\n      .then(resp => resp.json())\n      .then(json => {\n        window.open(`${apiUrl}/${json.response}`, '_blank');\n        this.handleDownload(false);\n        }\n      )\n    }\n\n    returnBack = () => {\n        fetch(`${apiUrl}/api/stop_stream?ip=${this.props.currentDevice.ip}&port=${this.props.currentDevice.port}`)\n        .then(() =>{})\n        .catch(() =>{})\n        this.props.testActions.closeTestAction();\n    }\n\n    render() {\n        const downloadBtn = !this.state.isReportReady ? (\n          <button className=\"ml-3 btn btn-primary\" onClick={() => { this.downloadReport() }}>\n            Download Report\n          </button>) : (\n          <button className=\"ml-3 btn btn-primary\" type=\"button\" disabled>\n            <span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\">\n            </span>\n            {'    Loading...'}\n          </button>\n          )\n\n        const backBtn = (\n            <button className=\"ml-3 btn btn-primary\" onClick={() => { this.returnBack() }}>\n              Back\n            </button>)\n\n        const listItems = this.props.testsList.map((item, index) => (\n            <div className=\"card\" key={index}>\n              <div className=\"card-header\" id={`heading${index}`}>\n                <h5 className=\"mb-0 d-flex justify-content-between align-items-center\">\n                  <button className=\"btn btn-link\" style={{color: 'black'}} data-toggle=\"collapse\" data-target={`#collapse${index}`} aria-expanded=\"true\" aria-controls={`#collapse${index}`}>\n                      {item.name} ({item.service})\n                  </button>\n                  <div className=\"d-inline-block\">\n                    {item.pending ? (<div className=\"typing_loader\"></div>) : null }\n                    {item.error ? (<img src={ errorImg } alt=\"error\"/>) : null }\n                    {item.data.result ? (<img src={ fetchedImg }/>) : null }\n                  </div>\n                </h5>\n              </div>\n              <div id={`collapse${index}`} className=\"collapse\" aria-labelledby={`#heading${index}`} data-parent=\"#accordion\">\n                <div className=\"card-body\">\n                  {item.data.result ? <p>{item.data.result.supported?`${item.name} is supported`:`${item.name} is not supported`}</p>: (null)}\n                  {item.data.result ? <p>{item.data.result.extension?`Test Feature: ${item.data.result.extension}`:(null)}</p>: (null)}\n                  {item.data.result ? <pre>{item.data.result.response?`Response: ${item.data.result.response}`:(null)}</pre>: (null)}\n                </div>\n              </div>\n            </div>\n        ));\n\n        const tCurrTest = this.props.testsList[this.props.currTestIndex];\n        const currIndex = this.props.currTestIndex\n        const modalTitle = tCurrTest ? tCurrTest.name : \"N/A\";\n        const testInProgress = tCurrTest && tCurrTest.pending;\n        const testIsDone = tCurrTest && Object.entries(tCurrTest.data).length !== 0\n\n        return (\n            <React.Fragment>\n              <h5>Report:</h5>\n              <div className=\"card\">\n                <div className=\"card-body\">\n                    <button className=\"m-1 btn btn-primary\" data-toggle=\"collapse\" data-target=\"#summary\">Summary</button>\n                    <div id=\"summary\" className=\"m-2 collapse\">\n                      <Summary testResponse = { this.props.testsList } />\n                    </div>\n                    <div id=\"accordion\">\n                      {listItems}\n                    </div>\n                    <div className=\"form-group d-flex justify-content-end mt-4\">\n                      <span class=\"form-check mr-2\">\n                        <input type=\"checkbox\" className=\"form-check-input\" id=\"includeResponse\"\n                        checked={this.state.checkboxChecked} onChange={(e) => {this.handleCbChange(e)}}/>\n                        <label className=\"form-check-label\" for=\"includeResponse\">\n                        Include device responses in report\n                        </label>\n                      </span>\n                      {downloadBtn}\n                      {backBtn}\n                    </div>\n                </div>\n              </div>\n              {<Modal \n                id={'streamModal'} \n                title={modalTitle}\n                ip={this.props.currentDevice.ip}\n                port={this.props.currentDevice.port}\n                testInProgress={testInProgress}\n                testIsDone={testIsDone}\n                onStart={() => {this.props.testActions.runTest()}}\n                onClose={() => {this.props.testActions.nextTest()}}\n                onTestFailed={()=>{this.resolveTestManually(false, currIndex)}}\n                onTestPassed={()=>{this.resolveTestManually(true, currIndex)}}\n                />}\n            </React.Fragment>\n\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Report)\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport $ from 'jquery';\nimport Popper from 'popper.js';\nimport bootstrap from 'bootstrap';\n\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'material-icons/iconfont/material-icons.css';\nimport './styles/common.css';\n\nimport Dashboard from './components/dashboard/dashboard.jsx'\nimport Navbar from './components/navbar/navbar.jsx'\nimport Report from './components/report/report.jsx'\n\nfunction mapStateToProps(state) {\n  return {\n    testInProgress: state.testReducer.testInProgress\n  };\n}\n\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <Navbar/>\n        <div className=\"container\">\n          {this.props.testInProgress ? <Report/> : <Dashboard/>}\n        </div> \n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, null)(App)\n","import React from 'react'\nimport { render } from 'react-dom'\nimport { Provider } from 'react-redux'\nimport App from './App'\nimport store from './store'\n\n\nrender(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)"],"sourceRoot":""}