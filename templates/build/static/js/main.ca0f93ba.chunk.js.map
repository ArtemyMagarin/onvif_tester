{"version":3,"sources":["assets/letter-x.png","assets/tick.png","actions/dashboardActions.js","components/dashboard/devicesList.jsx","components/dashboard/deviceInfoTabContent.jsx","config.js","components/stream/stream.js","components/dashboard/deviceStreamTabContent.jsx","components/dashboard/deviceSettingsTabContent.jsx","components/dashboard/deviceDatabaseTabContent.jsx","reducers/dashboardReducer.js","reducers/testReducer.js","reducers/authReducer.js","reducers/index.js","middleware/apiMiddleware.js","store/index.js","store/configureStore.js","actions/testActions.js","components/dashboard/deviceTestTabContent.jsx","components/dashboard/deviceInfo.jsx","components/dashboard/dashboard.jsx","components/navbar/navbar.jsx","components/report/summary.jsx","components/report/modal.jsx","components/report/report.jsx","App.js","index.js"],"names":["module","exports","getDevicesList","type","api","url","method","getDevice","ip","port","data","getDeviceSnapshots","showCurrentDevice","refreshImage","killStream","ListItem","_ref","id","text","onClick","active","pending","react_default","a","createElement","key","className","concat","DevicesList","_React$Component","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","value","props","dashboardActions","_this","listItems","list","map","item","devicesList_ListItem","currentDevice","show","Fragment","data-toggle","href","role","aria-expanded","aria-controls","style","cursor","devices","React","Component","connect","state","dashboardReducer","dispatch","bindActionCreators","DashboardAction","DeviceInfoTabContent","currentDeviceData","apiUrl","StreamContainer","call","hls","Hls","loaded","supported","isSupported","_this2","video","document","getElementById","console","log","attachMedia","loadSource","on","Events","MANIFEST_PARSED","setState","play","dontkill","fetch","then","catch","stopLoad","controls","display","spinner","DeviceStreamTabContent","togglePicture","tab","prevSnapshot","currentSnapshot","snapshot_url","_React$createElement","_React$createElement2","stream_url","indexOf","Date","now","snapshot_avaliable","private_snapshot_url","includes","carouselItems","snapshotsList","src","alt","camera","datetime","toggler","checked","onChange","top","pointerEvents","image","stream_StreamContainer","defineProperty","data-target","private_stream_url","target","rel","tabIndex","aria-labelledby","aria-hidden","data-ride","data-slide","snapshots","DeviceSettingsTabContent","DeviceDatabaseTabContent","reports","isFetched","resp","json","tableItems","scope","device","created","length","class","initialState","error","tests","currIndex","done","testInProgress","authError","isAuthenticated","currentUser","combineReducers","undefined","action","objectSpread","toConsumableArray","testReducer","updated_test","response","name","splice","index","result","resolution","authReducer","databaseReducer","_doRequest","dfd","$","resolve","fail","err","reject","promise","apiMiddleware","store","next","createStore","rootReducer","applyMiddleware","ReduxThunk","logger","configureStore","runTest","_store$getState$testR","getState","_store$getState$dashb","test","service","test_type","test_name","startTestAction","nextTest","closeTestAction","resolveTestManually","flatten","reduce","b","Array","isArray","DeviceTestTabContent","selected_test_type","left_column","right_column","chooseTestType","event","current_test","avaliable_tests","filter","available_tests","startTest","testActions","addToRightColumn","removeFromRightColumn","getAddFullListBtn","allTests","test_service","tooltip","title","placement","dropdownItems","leftItems","deviceTestTabContent_ListItem","rightItems","runBtn","aboutBtn","addAll","removeAll","addFullList","aboutModal","data-dismiss","aria-label","data-placement","data-html","data-animation","htmlFor","TestAction","DeviceInfo","currentTab","currentTabContent","deviceInfoTabContent","deviceStreamTabContent","deviceTestTabContent","deviceSettingsTabContent","deviceDatabaseTabContent","Dashboard","devicesList","deviceInfo","dashboard","Navbar","Summary","testResponse","summary","push","summaryItems","keys","sort","s","charAt","toUpperCase","slice","report","split","i","lineHeight","Modal","onClose","testIsDone","onTestFailed","onTestPassed","onStart","Report","_Component","handleDownload","isReportReady","downloadReport","deviceData","testsList","camInfo","runnedTests","headers","Accept","Content-Type","body","JSON","stringify","window","open","returnBack","currTest","currTestIndex","testsDone","entries","showModal","modal","downloadBtn","disabled","backBtn","color","errorImg","fetchedImg","data-parent","extension","tCurrTest","modalTitle","testsFetched","App","navbar","render","es","src_App"],"mappings":"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","file":"static/js/main.ca0f93ba.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4wQRFQwgzBdb6QAAAL9JREFUSMfNlssKwjAQRQ9S8IMEm/rNiv6TtO609QeumyxC6COPoZhVnucOA3MnCB6CQdBhNARO8BLcEPQCCSaBM4JPnvlEcBK8LUQi1iho5w6KRBbhCxeyRDbhNSLJ8JUHzgye87AYngKohq+BzOALhfMJ5qPgbFX6YdRZkR8SNY5AE6wbv2cS/UXwnUlRvXcJuijnrZl3zcEtbGUTXi2SAi+xlWx4iZPGcPcXvWCXbrYqskfTv3sR629LL7j+APJRXoh+oaytAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4wQRFQs7CTMEwgAAASNJREFUSMft1UFKw1AQxvH/PKFtUJJ4gZbiIQQXggupd+jW2IU9iRcobVMEb+BGcCGtC6EeJ+kidWHGhVGw0heSJrvOOvy+vJl5PNhXTkkdaGvqdRUdKbxJTfgc6ACR1Iingl6bqnBnfNxW9CXDFWS4Dlb3UhWems8F0M3w248gGlUyZBu+c0AeDnBQeqCh31FJrXjpE7RCv6OazvNwAGlM3AcRzkxKPxnE7yVW8WYdrGbbvjci9ICT1PDsjN3TKvHvAJU+SAJ4tpAMXxTBf2fQCo/OVc0TcAhEBq6SIF6W6fnWIf8JUWIj9JIgXu6C/9ui5tS7BB5BHSBSZCDoHdAu0hbrmm6066cK/7n1HmyElMbt+z7zL5pT77Uxcfv7d7nW+gJ2L6x+MkAiEwAAAABJRU5ErkJggg==\"","export function getDevicesList() {\n    return {\n        type: 'GET_DEVICES_LIST',\n        api: {\n            url: '/api/devices',\n            method: 'GET'\n        },\n    };\n}\n\nexport function getDevice(ip, port) {\n    return {\n        type: 'GET_DEVICE',\n        api: {\n            url: '/api/device',\n            method: 'GET',\n            data : { ip, port }\n        },\n    };\n}\n\nexport function getDeviceSnapshots(ip, port) {\n    return {\n        type: 'GET_DEVICE_SNAPSHOTS',\n        api: {\n            url: '/api/get_snapshots',\n            method: 'GET',\n            data : { ip, port }\n        },\n    };\n}\n\nexport function showCurrentDevice() {\n\treturn {\n\t\ttype: 'HIDE_CURRENT_DEVICE',\n\t}\n}\n\nexport function refreshImage(ip, port) {\n    return {\n        type: 'REFRESH_SNAPSHOT_IMAGE',\n        api: {\n            url: '/api/current_snapshot',\n            method: 'GET',\n            data : { ip, port }\n        },\n    };\n}\n\nexport function killStream(ip, port) {\n    return {\n        type: 'KILL_STREAM',\n        api: {\n            url: '/api/stop_stream',\n            method: 'GET',\n            data : { ip, port }\n        },\n    };\n}","import React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as DashboardAction from '../../actions/dashboardActions';\nimport '../../styles/horizontal-loader.css';\n\n\nfunction mapStateToProps(state) {\n    return {\n        list: state.dashboardReducer.list.devices,\n        devices: state.dashboardReducer.list,\n        currentDevice: state.dashboardReducer.currentDevice,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        dashboardActions: bindActionCreators(DashboardAction, dispatch)\n    }\n}\n\nconst ListItem = ({id, text, onClick, active, pending}) => {\n    return (\n        <button key={id} type=\"button\" onClick={onClick} className={`list-group-item d-flex justify-content-between list-group-item-action${active?\" active\":\"\"}`}>\n            {text}\n            {pending?(<div className=\"typing_loader\"></div>):(null)}\n        </button>\n    )\n}\n\nexport class DevicesList extends React.Component {\n\n    componentDidMount() {\n        this.props.dashboardActions.getDevicesList();\n    }\n\n    render() {\n        const listItems = this.props.list.map((item, id) => (\n            <ListItem\n                key={id}\n                text={`${item.ip}:${item.port}`}\n                onClick={() => {this.props.dashboardActions.getDevice(item.ip, item.port)}}\n                active={this.props.currentDevice.data.ip === item.ip\n                        && this.props.currentDevice.data.port === item.port\n                        && this.props.currentDevice.show}\n                pending={this.props.currentDevice.data.ip === item.ip\n                        && this.props.currentDevice.data.port === item.port\n                        && this.props.currentDevice.pending}\n                />\n        ))\n\n        return (\n            <React.Fragment>\n                <div className=\"row mb-2\">\n                    <div className={'col d-flex align-items-baseline justify-content-between'}>\n                        <span className=\"h5 m-0\">\n                          Devices\n                          <i className=\"d-sm-inline-block d-md-none small align-middle material-icons ml-1\"\n                            data-toggle=\"collapse\" href=\"#collapseDevicesList\" role=\"button\" \n                            aria-expanded=\"false\" aria-controls=\"collapseDevicesList\" style={{'cursor': 'pointer'}}>\n                            radio_button_checked\n                          </i>\n                        </span>\n                        {this.props.devices.pending ? (\n                        <div className=\"typing_loader\"></div>):(\n                          <span className=\"m-0\">\n                            <i className=\"align-middle material-icons\" style={{'cursor': 'pointer'}}\n                            onClick={ () => {this.props.dashboardActions.getDevicesList()}}>refresh</i>\n                          </span>)}\n                    </div>\n                </div>\n                <div className=\"collapse show\" id=\"collapseDevicesList\">\n                    <div className=\"row\">\n                        <div className=\"col\">\n                            <div className=\"list-group\">\n                                {listItems}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </React.Fragment>\n            \n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DevicesList)\n","import React from 'react';\n\nconst DeviceInfoTabContent = (props) => {\n    return (\n        <div className=\"card-body\">\n            <h5 className=\"card-title\">Device Information:</h5>\n            <div className=\"card\">\n                <ul className=\"list-group list-group-flush\">\n                    <li className=\"list-group-item\">Address: {`${props.currentDeviceData['ip']}:${props.currentDeviceData['port']}`}</li>\n                    <li className=\"list-group-item\">Manufacturer: {props.currentDeviceData['Manufacturer']}</li>\n                    <li className=\"list-group-item\">Model: {props.currentDeviceData['Model']}</li>\n                    <li className=\"list-group-item\">Firmware Version: {props.currentDeviceData['Firmware Version']}</li>\n                    <li className=\"list-group-item\">Serial Number: {props.currentDeviceData['Serial Number']}</li>\n                    <li className=\"list-group-item\">Hardware ID: {props.currentDeviceData['Hardware ID']}</li>\n                </ul>\n            </div>\n        </div>\n    )\n}\n\nexport default DeviceInfoTabContent;\n","export const apiUrl = process.env.NODE_ENV === 'production' ? 'http://onvif.auditory.ru' : 'http://127.0.0.1:5000';\n","import React from 'react';\nimport { apiUrl } from '../../config';\nimport Hls from 'hls.js';\n\t\nexport default class StreamContainer extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tip: props.ip,\n\t\t\tport: props.port,\n\t\t\thls: (new Hls()),\n\t\t\tloaded: false,\n\t\t\tsupported: Hls.isSupported()\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tif (this.state.supported) {\n\t\t\tconst video = document.getElementById(`${this.state.ip}${this.state.port}`);\n\t\t\tconsole.log(video)\n\t\t\tthis.state.hls.attachMedia(video);\n\t\t\tthis.state.hls.loadSource(`${apiUrl}/livestream?ip=${this.state.ip}&port=${this.state.port}`);\n\t\t\tthis.state.hls.on(Hls.Events.MANIFEST_PARSED, () => { \n\t\t\t\tthis.setState({loaded: true})\n\t\t\t\tvideo.play() \n\t\t\t})\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\t!this.props.dontkill && fetch(`${apiUrl}/api/stop_stream?ip=${this.state.ip}&port=${this.state.port}`)\n\t\t.then(() =>{})\n\t\t.catch(() =>{})\n\t\t!this.props.dontkill && this.state.hls.stopLoad()\n\t}\n\n\trender() {\n\t\tconst video = (<video controls={true} className=\"w-100\" id={`${this.state.ip}${this.state.port}`} \n\t\t\tstyle={{'display': (this.state.loaded ? 'block': 'none')}}/>);\n\n\t\tconst spinner = this.props.spinner;\n\n\t\treturn this.state.supported ? ( \n\t\t\t<div className=\"position-relative\">\n\t\t\t\t{video}\n\t\t\t\t{!this.state.loaded ? (spinner) : (null)}\n\t\t\t</div>\n\t\t) : (<p>Stream is not supported on your device.</p>);\n\t}\n}\n\t","import React from 'react';\nimport { apiUrl } from '../../config';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as DashboardAction from '../../actions/dashboardActions';\nimport StreamContainer from '../stream/stream';\nimport '../../styles/switch.css';\nimport '../../styles/style.css';\n\n\nfunction mapStateToProps(state) {\n    return {\n        currentSnapshot: state.dashboardReducer.currentDevice.currentSnapshot,\n        snapshotsList: state.dashboardReducer.snapshotsList.snapshots\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        dashboardActions: bindActionCreators(DashboardAction, dispatch)\n    }\n}\n\nclass DeviceStreamTabContent extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            tab: 'snapshot',\n            prevSnapshot: props.snapshot_url\n        }\n    }\n\n    componentDidMount() {\n        console.log(this.props.currentDeviceData.ip)\n        console.log(this.props.currentDeviceData.port)\n        this.props.dashboardActions.getDeviceSnapshots(this.props.currentDeviceData.ip, this.props.currentDeviceData.port);\n        this.props.dashboardActions.refreshImage(this.props.currentDeviceData.ip, this.props.currentDeviceData.port)\n        console.log(this.props)\n    }\n\n    togglePicture = () => {\n        if (this.state.tab === 'snapshot') {\n            this.setState({tab: 'stream'});\n        } else {\n            this.setState({tab: 'snapshot'});\n        }\n    }\n\n    refreshImage = () => {\n      this.setState({prevSnapshot: this.props.currentSnapshot ? (this.props.currentSnapshot.url || this.state.prevSnapshot) : this.state.prevSnapshot})\n      this.props.dashboardActions.refreshImage(\n        this.props.currentDeviceData.ip,\n        this.props.currentDeviceData.port)\n    }\n\n    render() {\n        let url = apiUrl + (this.state.tab === 'snapshot' ? ((this.props.currentSnapshot && this.props.currentSnapshot.url) ? this.props.currentSnapshot.url : this.state.prevSnapshot): this.props.stream_url);\n        url = url + (~url.indexOf('?')?'&':'?') + `t=${Date.now()}`;\n\n        const snapshot_avaliable = this.props.private_snapshot_url ? !(this.props.private_snapshot_url.includes(\"rtsp\")) : null;\n\n        const carouselItems = this.props.snapshotsList ? this.props.snapshotsList.map((item, id) => (\n            <div key={id} className={`carousel-item ${id === 0 ? 'active': ''}`}>\n              <img src={`${apiUrl}${item.url}`} className=\"d-block w-100\" alt={`Snapshot${id}`}/>\n              <div className=\"carousel-caption\">\n                <h5>{item.camera}</h5>\n                <p>{item.datetime}</p>\n              </div>\n            </div>\n        )) : []\n\n        const toggler = (\n            <div className=\"switch-wrapper\">\n                Show snapshot\n                <label className=\"switch\">\n                    <input type=\"checkbox\" checked={this.state.tab === 'stream'} onChange={this.togglePicture}/>\n                    <span className=\"slider\"></span>\n                </label>\n                Show Stream\n            </div>\n        )\n        \n        const spinner = (<div style={{'top': 0, 'pointerEvents': 'none'}} className=\"d-flex justify-content-center align-items-center w-100 h-100 position-absolute\">\n                <div className=\"spinner-border text-primary\" role=\"status\">\n                  <span className=\"sr-only\">Loading...</span>\n                </div>\n              </div>)\n\n        const image = (this.state.tab === 'snapshot') ? (<div className=\"position-relative\">\n          {<img src={url} alt=\"snapshot\" className=\"stream-image\" onClick={() => {this.refreshImage()}}/>}\n          {(!this.props.currentSnapshot || this.props.currentSnapshot.pending) ? spinner : (null)}\n        </div>) : (<StreamContainer spinner={spinner} ip={this.props.currentDeviceData.ip} port={this.props.currentDeviceData.port}/>)\n\n\n        return (\n            <div className=\"card-body\">\n                <h5 className=\"card-title\">RTSP Stream:</h5>\n                <div className=\"card snapshot-card\">\n                <div className=\"row align-items-center\">\n                  <div className=\"col-sm-12 col-md-6\">{toggler}</div>\n                  <div className=\"col-sm-12 col-md-6\">\n                    <div>\n                      <button type=\"button\" className=\"btn btn-sm mr-2 btn-secondary\"\n                        type=\"button\" data-toggle=\"collapse\" data-target=\"#showRtspUrl\"\n                        aria-expanded=\"false\" aria-controls=\"showRtspUrl\">\n                        RTSP Url\n                      </button>\n                      <button type=\"button\" className=\"btn btn-sm mr-2 btn-secondary\"\n                        type=\"button\" data-toggle=\"collapse\" data-target=\"#showSnapshotUrl\"\n                        aria-expanded=\"false\" aria-controls=\"showSnapshotUrl\">\n                        Snapshot Url\n                      </button>\n                      <button type=\"button\" className=\"btn btn-sm btn-primary\"\n                        data-toggle=\"modal\" data-target=\".bd-slideshow-modal-lg\">\n                        Slideshow\n                      </button>\n                    </div>\n                  </div>\n                </div>\n                    {image}\n                </div>\n                <div className=\"collapse\" id=\"showRtspUrl\">\n                  RTSP avaliable at:\n                  <a href={this.props.private_stream_url}>\n                    {' ' + this.props.private_stream_url}\n                  </a>\n                </div>\n                <div className=\"collapse\" id=\"showSnapshotUrl\">\n                  {!this.props.private_snapshot_url ? ('Device does not support Snapshot or Snapshot Url content is not valid') : (!snapshot_avaliable ? 'Device does not support Snapshot or Snapshot Url content is not valid'\n                  : 'Snapshot avaliable at:')}\n                  {!this.props.private_snapshot_url ? (null) : (!snapshot_avaliable ? (null) :\n                    <a href={this.props.private_snapshot_url} target=\"_blank\" rel=\"noopener noreferrer\">\n                      {' ' + this.props.private_snapshot_url}\n                    </a>\n                  )}\n                </div>\n                <div className=\"modal fade bd-slideshow-modal-lg\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"myLargeModalLabel\" aria-hidden=\"true\">\n                  <div className=\"modal-dialog modal-lg\">\n                    <div className=\"modal-content\">\n                        <div id=\"carousel-slideshow\" className=\"carousel\" data-ride=\"carousel\">\n                            <div className=\"carousel-inner\">\n                              {carouselItems}\n                            </div>\n                            <a className=\"carousel-control-prev\" href=\"#carousel-slideshow\" role=\"button\" data-slide=\"prev\">\n                              <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n                              <span className=\"sr-only\">Previous</span>\n                            </a>\n                            <a className=\"carousel-control-next\" href=\"#carousel-slideshow\" role=\"button\" data-slide=\"next\">\n                              <span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n                              <span className=\"sr-only\">Next</span>\n                            </a>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DeviceStreamTabContent);\n","import React from 'react';\n\nconst DeviceSettingsTabContent = (props) => {\n    // TOD0: Device settings\n    return (\n        <div className=\"card-body\">\n            <h5 className=\"card-title\">Settings:</h5>\n        </div>\n    )\n}\n\nexport default DeviceSettingsTabContent;","import React, {Component} from 'react';\nimport { apiUrl } from '../../config';\n\nclass DeviceDatabaseTabContent extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            reports: [],\n            isFetched: false\n        }\n    }\n\n    componentDidMount() {\n      fetch(`${apiUrl}/api/reports`, { method: 'GET'})\n     .then(resp => resp.json())\n     .then(json => this.setState({reports: json, isFetched: true})\n     )\n    }\n\n    render() {\n        const tableItems = this.state.reports && this.state.reports.map((item, id) => (\n            <tr>\n              <th className=\"col-1\" scope=\"row\">{id+1}</th>\n              <td className=\"col-4\">{ item.device && item.device.ip }</td>))\n              <td className=\"col-4\">{ item.created }</td>))\n              <td className=\"col-3\">\n                <a className=\"btn btn-primary\" target={\"_blank\"} href={`${apiUrl}/${item.url}`}>\n                  Download\n                </a>\n              </td>\n            </tr>))\n    return (\n        <div className=\"card-body\">\n            <h5 className=\"card-title\">Previous reports:</h5>\n            {this.state.isFetched ? (\n            this.state.reports.length ? (<table className=\"table table-bordered table-responsive-md\">\n              <tbody>\n                {tableItems}\n              </tbody>\n            </table>) : \"No avaliable reports\"):\n            (<div class=\"spinner-border\" role=\"status\">\n              <span class=\"sr-only\">Loading...</span>\n            </div>)}\n        </div>\n    )\n}\n}\n\nexport default DeviceDatabaseTabContent;","const initialState = {\n  list: {\n    devices: [],\n    pending: false,\n    error: false\n  },\n\n  currentDevice: {\n    data: {},\n    pending: false,\n    error: false,\n    show: false,\n\n    currentSnapshot: {\n      url: null,\n      pending: false,\n      error: false\n    }\n  },\n\n  snapshotsList: {\n    snapshots: [],\n    pending: false,\n    error: false\n  }\n\n};\n\nexport default function dashboardReducer(state = initialState, action) {\n\n    switch (action.type) {\n      case \"GET_DEVICES_LIST\": {\n        if (action.data) {\n          const list = {\n            devices: action.data,\n            pending: false,\n            error: false\n          }\n          return { ...state, list }\n        }\n        break\n      }\n      case \"GET_DEVICES_LIST__PENDING\": {\n      const list = {\n        devices: [],\n        pending: true,\n        error: false\n      }\n      const currentDevice = {\n          data: {},\n          pending: false,\n          error: false,\n          show: false\n        }\n\n      return { ...state, currentDevice, list }\n      }\n      case \"GET_DEVICES_LIST__ERROR\": {\n      const list = {\n        devices: [],\n        pending: false,\n        error: true\n      }\n      return { ...state, list }\n      }\n\n\n      case \"GET_DEVICE\": {\n        if (action.data) {\n          const currentDevice = {\n            data: action.data,\n            pending: false,\n            error: false,\n            show: true\n          }\n          return { ...state, currentDevice }\n        }\n        break\n      }\n\n      case \"GET_DEVICE__PENDING\": {\n      const currentDevice = {\n        data: {...action.api.data},\n          pending: true,\n          error: false,\n          show: false\n      }\n      return { ...state, currentDevice }\n      }\n\n      case \"GET_DEVICE__ERROR\": {\n        const currentDevice = {\n        data: {},\n          pending: false,\n          error: true,\n          show: false\n      }\n      return { ...state, currentDevice }\n      }\n\n      case \"GET_DEVICE_SNAPSHOTS\": {\n          const snapshotsList = {\n            snapshots: action.data,\n            pending: false,\n            error: false,\n          }\n          return { ...state, snapshotsList }\n      }\n\n      case \"GET_DEVICE_SNAPSHOTS__PENDING\": {\n      const snapshotsList = {\n        data: {...action.api.data},\n          pending: true,\n          error: false,\n      }\n      return { ...state, snapshotsList }\n      }\n\n      case \"GET_DEVICE_SNAPSHOTS__ERROR\": {\n        const snapshotsList = {\n        data: {},\n          pending: false,\n          error: true,\n      }\n      return { ...state, snapshotsList }\n      }\n\n      case \"HIDE_CURRENT_DEVICE\": {\n        const currentDevice = { ...state.currentDevice, show: false }\n        return { ...state,  ...currentDevice }\n      }\n\n      case \"REFRESH_SNAPSHOT_IMAGE\": {\n        const currentSnapshot = {\n          url: action.data.url,\n          pending: false,\n          error: false\n        }\n        const currentDevice = {\n          ...state.currentDevice,\n          currentSnapshot\n        }\n        const snapshots = [...state.snapshotsList.snapshots, {...action.data}]\n        const snapshotsList = {...state.snapshotsList, snapshots}\n        return { ...state,  currentDevice, snapshotsList }\n      }\n      case \"REFRESH_SNAPSHOT_IMAGE__PENDING\": {\n       const currentSnapshot = {\n          url: null,\n          pending: true,\n          error: false\n        }\n        const currentDevice = {\n          ...state.currentDevice,\n          currentSnapshot\n        }\n        return { ...state,  currentDevice }\n\n      }\n      case \"REFRESH_SNAPSHOT_IMAGE__ERROR\": {\n        const currentSnapshot = {\n          url: null,\n          pending: false,\n          error: true\n        }\n        const currentDevice = {\n          ...state.currentDevice,\n          currentSnapshot\n        }\n        return { ...state,  currentDevice }\n\n      }\n\n      default: {\n        break\n      }\n    }\n    return state\n}","const initialState = {\n  tests: [],\n  currIndex: 0,\n  done: false,\n  testInProgress: false,\n}\n\n\nexport default function testReducer(state=initialState, action) {\n  switch (action.type) {\n    case \"INIT_TESTS\": {\n      if (action.data) {\n        const tests = action.data.map(item => ({\n          ...item, \n          pending: false, \n          error: false,\n          data: {},\n        }))\n        const currIndex = 0;\n        return { ...state, tests, done: false, currIndex, testInProgress: true }\n      }\n      return state\n    }\n\n    case \"CLOSE_TEST\":\n      return {...state, currIndex: 0, done: false, testInProgress: false}\n\n    case \"NEXT_TEST\":\n      return {...state, currIndex: state.currIndex+1}\n\n    case \"RUN_TEST\": {\n      if (action.data) {\n        let tests = [...state.tests]\n        const updated_test = {\n          ...tests[state.currIndex],\n          pending: false,\n          error: false,\n          data: {...action.data.response}\n        }\n        tests[state.currIndex] = updated_test\n        // if interactive, go next test manually\n        const currIndex = ~updated_test.name.indexOf('Interactive') ? state.currIndex : state.currIndex+1\n        return {...state, tests, currIndex, done: state.currIndex >= tests.length-1 }\n      }\n      return state\n    }\n\n    case \"RUN_TEST__PENDING\": {\n      let tests = [...state.tests]\n      const updated_test = {\n        ...state.tests[state.currIndex],\n        pending: true,\n      }\n      tests.splice(state.currIndex, 1, updated_test)\n      return {...state, tests }\n    }\n\n    case \"RUN_TEST__ERROR\": {\n      let tests = [...state.tests]\n      const updated_test = {\n        ...state.tests[state.currIndex],\n        pending: false,\n        error: true,\n        data: {...action.data.response}\n      }\n      tests.splice(state.currIndex, 1, updated_test)\n      // if interactive, go next test manually\n      const currIndex = ~updated_test.name.indexOf('Interactive') ? state.currIndex : state.currIndex+1\n      return {...state, tests, currIndex, done: state.currIndex >= tests.length-1 }\n    }\n\n    case 'RESOLVE_TEST_MANUALLY': {\n      if (!state.tests[action.data.index].pending) {\n        let tests = [...state.tests]\n        const result = {...state.tests[action.data.index].data.result, supported: action.data.resolution}\n        \n        const updated_test = {\n          ...state.tests[action.data.index],\n          pending: false,\n          error: false,\n          data: {...state.tests[action.data.index].data, result}\n        }\n        tests.splice(action.data.index, 1, updated_test)\n        return {...state, tests }\n      }\n      return state\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n","const initialState = {\n    authError: null,\n    isAuthenticated: null,\n    currentUser: {\n\n    }\n};\n\nexport default function authReducer(state = initialState, action) {\n\n    switch(action.type) {\n        case 'SIGNIN__ERROR':\n            console.log('SignIn error')\n            return {\n                ...state\n            }\n\n        case 'SIGNIN__SUCCESS' :\n            console.log('SignIn Success')\n            return {\n                ...state\n            }\n\n        case 'SIGNOUT__SUCCESS' :\n            console.log('SignOut success');\n            return state;\n\n        case 'SIGNUP__SUCCESS':\n            console.log('SignUp success');\n\n            return {\n                ...state\n            }\n\n        case 'SIGNUP__ERROR':\n            console.log('signUp error');\n            return {\n                ...state\n            }\n\n            default:\n                return state;\n    }\n}\n\n","import { combineReducers } from 'redux'\nimport dashboardReducer from './dashboardReducer'\nimport testReducer from './testReducer'\nimport authReducer from './authReducer'\nimport databaseReducer from './databaseReducer'\n\nexport default combineReducers({\n    dashboardReducer,\n    testReducer,\n    authReducer,\n    databaseReducer\n})","import { apiUrl } from '../config'\nimport * as $ from 'jquery';\n\n\nconst apiMiddleware = store => next => action => {\n    var type = action.type;\n    if (action.api) {\n        _doRequest(action).done(function(data){\n            action.type = type;\n            action.data = data;\n            delete action.api;\n            next(action);\n        }).fail(function(data){\n            action.type = type + \"__ERROR\";\n            action.data = data;\n            next(action); \n        });\n        action.type = type + \"__PENDING\";\n        next(action);\n    } else {\n        next(action);\n    }\n}\n\nconst _doRequest = function(action) {\n    const dfd = $.Deferred();\n\n    action.api.url = apiUrl + action.api.url;\n\n    $.ajax( action.api )\n    .done(function(data){\n        dfd.resolve(data);\n    })\n    .fail(function(err){\n        dfd.reject(err);\n    });\n\n    return dfd.promise();\n}\n\nexport default apiMiddleware","import configureStore from './configureStore'\n\nconst store = configureStore()\n\nexport default store;","import { createStore, applyMiddleware } from 'redux'\nimport ReduxThunk from 'redux-thunk' \nimport logger from 'redux-logger'\t\nimport rootReducer from '../reducers'\nimport apiMiddleware from '../middleware/apiMiddleware'\n\nexport default function configureStore(initialState = {}) {\n  const store = createStore(\n  \trootReducer,\n  \tapplyMiddleware(ReduxThunk, apiMiddleware, logger),\n\n  )\n  return store\n}","import store from '../store'\n\n\nexport function runTest() {\n    const {tests, currIndex} = store.getState().testReducer;\n    const {ip, port} = store.getState().dashboardReducer.currentDevice.data\n\n    const test = tests[currIndex];\n    \n    return {\n        type: 'RUN_TEST',\n        api: {\n            url: `/api/${test.service}_test/${test.name}?ip=${ip}&port=${port}`,\n            method: 'POST',\n            data: { test_type: test.service, test_name: test.name, ip, port }\n        }\n    } \n}\n\nexport function startTestAction(listItems) {\n    return {\n        type: 'INIT_TESTS',\n        data: [...listItems]\n    };\n}\n\nexport function nextTest() {\n    return {\n        type: 'NEXT_TEST',\n    };\n}\n\nexport function closeTestAction() {\n    return {\n        type: 'CLOSE_TEST',\n    };\n}\n\nexport function resolveTestManually(resolution, index) {\n    return {\n        type: 'RESOLVE_TEST_MANUALLY',\n        data: { resolution, index }\n    }\n}\n\n\n","import React, { Component } from 'react';\nimport * as $ from 'jquery';\nimport '../../styles/tooltip.css'\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as TestAction from '../../actions/testActions';\n\n\nconst ListItem = ({id, text, onClick}) => {\n    return (\n        <button key={id} type=\"button\" onClick={onClick} className={`list-group-item d-flex justify-content-between list-group-item-action`}>\n          {text}\n        </button>\n    )\n}\n\nconst flatten = list => list.reduce(\n    (a, b) => a.concat(Array.isArray(b) ? flatten(b) : b), []\n);\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n      testActions: bindActionCreators(TestAction, dispatch)\n  }\n}\n\n\nclass DeviceTestTabContent extends Component {\n\n    state = {\n      selected_test_type: null,\n      left_column: [],\n      right_column: []\n    }\n\n    chooseTestType = (event) => {\n      let current_test = this.props.currentDeviceData.avaliable_tests.filter(test_type => test_type.service === event.target.value);\n      let available_tests = current_test.length > 0 ? current_test[0].available_tests : [];\n      \n      this.setState({        \n        selected_test_type: event.target.value,\n        left_column: available_tests\n          .filter(test => (this.state.right_column.filter(test => test.name === test && test.service === event.target.value).length === 0))\n          .map(test_name => ({ name: test_name, service: event.target.value }))\n      });\n    }\n\n    startTest = (listItems) => {\n      // console.log(listItems)\n      this.props.testActions.startTestAction(listItems);\n    }\n\n    addToRightColumn = (name, service) => {\n      if (this.state.right_column.filter(test => test.name === name && test.service === service).length === 0) {\n        this.setState({\n          right_column: [ { name, service }, ...this.state.right_column ]\n        })\n      }\n    }\n\n    removeFromRightColumn = (name, service) => {\n      this.setState({\n          right_column: this.state.right_column.filter(item => !(item.name === name && item.service === service))\n      })\n    }\n\n    getAddFullListBtn = () => {\n      let avaliable_tests = this.props.currentDeviceData.avaliable_tests;\n      let allTests = flatten(avaliable_tests.map(test_service => test_service.available_tests.map(name => ({name, service: test_service.service}))));\n      return (<button className=\"ml-3 btn btn-primary\" onClick={() => { this.setState({right_column: [...allTests]}) }}>{`Add all ${allTests.length} tests`}</button>) \n    }\n\n    componentDidMount() {\n      $('[data-toggle=\"tooltip\"]').tooltip({\n        title: \"<em>1.Select test <b><u>type</u></b>.</em> <br><em>2.Choose tests and add them into right column.<br>3.When Run button pressed, tests from the right column will be executed.<br> 4.Click on the test name to add or remove from the list.</em>\",\n        placement: 'bottom'\n      });\n    }\n\n    render() {\n\n        // Collections\n\n        const { currentDeviceData } = this.props;\n        const dropdownItems = currentDeviceData['Supported Services'].map((device, id) =>                 \n          <option \n            key={id}\n            value={device}>\n              {device}\n          </option>\n        ) \n\n        const leftItems = this.state.left_column\n        .filter(item => (this.state.right_column.filter(test => test.name === item.name && test.service === item.service).length === 0))\n        .map((item, id) => (\n            <ListItem \n                key={id} \n                text={`${id + 1}.${item.name} (${item.service})`} \n                onClick={() => { this.addToRightColumn(item.name, item.service) }}\n            />\n        ))  \n\n        const rightItems = this.state.right_column.map((item, id) => (\n            <ListItem \n                key={id} \n                text={`${id + 1}.${item.name} (${item.service})`} \n                onClick={() => { this.removeFromRightColumn(item.name, item.service) }}\n            />\n        ))  \n\n        // Buttons\n\n        const runBtn = (\n            <button className=\"ml-3 btn btn-primary\" onClick={() => { this.startTest(this.state.right_column)}}>\n              {`Run ${this.state.right_column.length} test${this.state.right_column.length===1?'':'s'}`}\n            </button>)\n\n        const aboutBtn = (\n            <button className=\"ml-3 btn btn-secondary\" data-toggle=\"modal\" data-target=\"#aboutTest\">\n              About test\n            </button>)   \n\n        const addAll = leftItems.length > 0 ? (\n            <button className=\"mb-3 btn btn-success\" \n              onClick={() => { this.setState({right_column: [...this.state.left_column, ...this.state.right_column]})}}>\n              Add all to the right\n            </button>) : (null); \n\n        const removeAll = rightItems.length > 0 ? (\n            <button className=\"mb-3 btn btn-danger\" \n              onClick={() => { this.setState({right_column: []}) }}>\n              Empty list\n            </button>) : (null);    \n        \n        const addFullList = this.getAddFullListBtn();\n\n        // Modal\n\n        const aboutModal = (\n          <div className=\"modal fade\" id=\"aboutTest\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"aboutTestTitle\" aria-hidden=\"true\">\n            <div className=\"modal-dialog modal-dialog-scrollable\" role=\"document\">\n              <div className=\"modal-content\">\n                <div className=\"modal-header\">\n                  <h5 className=\"modal-title\" id=\"aboutTestTitle\">Modal title</h5>\n                  <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                    <span aria-hidden=\"true\">&times;</span>\n                  </button>\n                </div>\n                <div className=\"modal-body\">\n                  ...\n                </div>\n                <div className=\"modal-footer\">          \n                  <button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\">Close</button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )\n\n        return (\n          <React.Fragment>\n            <div className=\"card-body\">\n              <div className=\"row mb-2\">\n                <div className={'col d-flex'}>                  \n                  <span className=\"h5 m-0\">\n                    <h5 className=\"card-title\">Device Test:</h5> \n                  </span>\n                  <span className=\"ml-1\">\n                    <i className=\"align-middle material-icons\" data-toggle=\"tooltip\" \n                      data-placement=\"bottom\" data-html=\"true\" style={{'cursor': 'pointer'}}\n                      data-animation=\"true\">\n                      info\n                    </i>\n                  </span>\n                </div>\n                </div>\n              <div className=\"form-inline\">\n                <div className=\"form-group\">\n                  <label className=\"my-1 mr-2\" htmlFor=\"selectTestDropdown\">Test type:</label>\n                  <select \n                    id=\"selectTestDropdown\"\n                    value={this.state.selected_test_type ? this.state.selected_test_type : ''} \n                    className=\"form-control\"\n                    onChange={this.chooseTestType}\n                  >\n                    <option value=\"not selected\">not selected</option>\n                    { dropdownItems }\n                  </select>\n                </div>\n                <div className=\"form-group d-flex justify-content-between\">\n                  {aboutBtn}\n                  {aboutModal}\n                  {addFullList}\n                  {runBtn}\n                </div>\n              </div>\n            </div>\n            <div className=\"card-body\">\n              <div className=\"row\">\n                <div className=\"col\">\n                    {addAll}\n                    <div className={(this.state.selected_test_type && \n                    this.state.selected_test_type !== 'not selected') ? \n                    \"list-group pre-scrollable\" : \"list-group\"}>\n                      {leftItems}\n                    </div>\n                </div>\n                <div className=\"col\">\n                    {removeAll}\n                    <div className={(this.state.selected_test_type && \n                    this.state.selected_test_type !== 'not selected') ? \n                    \"list-group pre-scrollable\" : \"list-group\"}>\n                        {rightItems}\n                    </div>\n                </div>\n              </div>\n            </div>\n          </React.Fragment>\n        )\n    }\n}\n\nexport default connect(null, mapDispatchToProps)(DeviceTestTabContent);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as DashboardAction from '../../actions/dashboardActions';\nimport '../../styles/loader.css';\n\nimport DeviceInfoTabContent from './deviceInfoTabContent.jsx'\nimport DeviceStreamTabContent from './deviceStreamTabContent.jsx'\nimport DeviceSettingsTabContent from './deviceSettingsTabContent.jsx'\nimport DeviceDatabaseTabContent from './deviceDatabaseTabContent.jsx'\nimport DeviceTestTabContent from './deviceTestTabContent.jsx'\n\nfunction mapStateToProps(state) {\n    return {\n        list: state.dashboardReducer.list,\n        currentDevice: state.dashboardReducer.currentDevice,\n        currentDeviceData: state.dashboardReducer.currentDevice.data\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        dashboardActions: bindActionCreators(DashboardAction, dispatch)\n    }\n}\n\n\nexport class DeviceInfo extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            currentTab: 'testing'\n        }\n    }\n\n    render() {\n        let currentTabContent = (null);\n\n        if (this.state.currentTab === 'info') {\n            currentTabContent = (<DeviceInfoTabContent currentDeviceData={this.props.currentDeviceData}/>)\n        }\n\n        if (this.state.currentTab === 'stream') {\n            currentTabContent = (<DeviceStreamTabContent\n            snapshot_url={this.props.currentDeviceData['snapshot_url']}\n            private_snapshot_url = {this.props.currentDeviceData['private_snapshot_url']}\n            stream_url={this.props.currentDeviceData['stream_url']}\n            private_stream_url = {this.props.currentDeviceData['private_stream_url']}\n            currentDeviceData = {this.props.currentDeviceData} />);\n        }\n\n        if (this.state.currentTab === 'testing') {\n            currentTabContent = (<DeviceTestTabContent currentDeviceData={this.props.currentDeviceData}/>);\n        }\n\n        if (this.state.currentTab === 'settings') {\n            currentTabContent = (<DeviceSettingsTabContent currentDeviceData={this.props.currentDeviceData}/>);\n        }\n\n        if (this.state.currentTab === 'database') {\n            currentTabContent = (<DeviceDatabaseTabContent currentDeviceData={this.props.currentDeviceData}/>);\n        }\n\n        if (this.props.currentDevice.show) {\n            return (\n                <div className=\"card text-left\">\n                  <div className=\"card-header\">\n                    <ul className=\"nav nav-pills card-header-tabs\">\n                      <li className=\"nav-item\">\n                        <a\n                            className={`nav-link ${this.state.currentTab === 'info'?'active':''}`} \n                            onClick={()=>{this.setState({currentTab: 'info'})}}\n                            href=\"#\">\n                                Information\n                        </a>\n                      </li>\n                      <li className=\"nav-item\">\n                        <a\n                            className={`nav-link ${this.state.currentTab === 'stream'?'active':''}`} \n                            onClick={()=>{this.setState({currentTab: 'stream'})}}\n                            href=\"#\">\n                                Stream\n                        </a>\n                      </li>\n                      <li className=\"nav-item\">\n                        <a\n                            className={`nav-link ${this.state.currentTab === 'testing'?'active':''}`} \n                            onClick={()=>{this.setState({currentTab: 'testing'})}}\n                            href=\"#\">\n                                Testing\n                        </a>\n                      </li>\n                      <li className=\"nav-item\">\n                        <a\n                            className={`nav-link ${this.state.currentTab === 'settings'?'active':''}`} \n                            onClick={()=>{this.setState({currentTab: 'settings'})}}\n                            href=\"#\">\n                                Settings\n                        </a>\n                      </li>\n                      <li className=\"nav-item\">\n                        <a\n                            className={`nav-link ${this.state.currentTab === 'database'?'active':''}`} \n                            onClick={()=>{this.setState({currentTab: 'database'})}}\n                            href=\"#\">\n                                Database\n                        </a>\n                      </li>\n                    </ul>\n                  </div>\n                  {currentTabContent}\n                </div>\n            )\n        } else {\n            return (\n                <div className=\"card text-center\">\n                  <div className=\"card-body d-flex align-items-center justify-content-center\">\n                    <h4 className=\"card-title text-center mb-0\">{this.props.currentDevice.pending || this.props.list.pending ?'Loading...':'Choose device from the list'}</h4>\n                    {this.props.currentDevice.pending || this.props.list.pending ? (<div className=\"loader\"></div>):(null)}\n                  </div>\n                </div>\n            )\n        }\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DeviceInfo)\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as DashboardAction from '../../actions/dashboardActions';\nimport DevicesList from './devicesList.jsx';\nimport DeviceInfo from './deviceInfo.jsx';\n\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tdashboard: state.dashboardReducer.list,\n\t\tcurrentDevice: state.dashboardReducer.currentDevice,\n\t};\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        dashboardActions: bindActionCreators(DashboardAction, dispatch)\n    }\n}\n\n\nexport class Dashboard extends React.Component {\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-sm-12 col-md-3  mb-3\">\n\t\t\t\t\t<DevicesList/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-sm-12 col-md-9\">\n\t\t\t\t\t<DeviceInfo/>\n\t\t\t\t</div>\n\t\t\t</div>\t\t\t\n\t\t);\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Dashboard)\n","import React from 'react';\n\nconst Navbar = (props) => {\n\treturn (\n\t\t<nav className=\"navbar navbar-dark bg-primary mb-3\">\n\t\t \t<a className=\"navbar-brand\" href=\"#\">\n\t\t\t    { /*<img src={brand} height={\"30\"} className={\"d-inline-block align-top mr-4\"} alt={\"\"}/> */}\n\t\t\t    ONVIF Compliance Tester\n\t\t\t</a>\n\t\t</nav>\n\t)\n}\n\nexport default Navbar;","import React from 'react';\n\nconst Summary = (props) => {\n\n    const result = props.testResponse.reduce((summary, item) => {\n        summary[item.service] = summary[item.service] || [];\n        summary[item.service].push(item);\n        return summary;\n      }, {});\n\n    // console.log(result);\n\n    const capitalize = s => s.charAt(0).toUpperCase() + s.slice(1)\n\n    const summaryItems = Object.keys(result).sort().map((key, id) => (\n        <React.Fragment key={id}>\n            <p><b>{capitalize(key)}:</b></p>\n            <table className=\"table table-bordered table-responsive-md\">\n                <tbody>\n                    {result[key].map((item, id) => (\n                        <tr className=\"row m-0\" key={id}>\n                          <th className=\"col-1\"scope=\"row\">{id+1}</th>\n                          <td className=\"col-5\">{ item.name }</td>\n                          {item.data.result ?\n                          <td className={`col-6 ${item.data.result.supported ? \"text-success\":\"text-danger\"}`}>\n                          {item.data.result.supported ? \"Supported\" : \"Not supported\"}\n                          {item.data.result.report ?\n                            <React.Fragment>\n                              <button className=\"ml-3 btn btn-secondary btn-sm\" data-toggle=\"collapse\" data-target={`#features${id}`}>View</button>\n                              <div id={`features${id}`} className=\"collapse\">\n                                {item.data.result.report.split(\"\\n\").map((i,key) => {\n                                  return <p style={{'lineHeight': '20px'}}\n                                  className=\"text-dark mt-2\" key={key}>{i}</p>;\n                                })}\n                              </div>\n                            </React.Fragment>\n                          : (null)\n                          }\n                          </td>: (null)}\n                        </tr>\n                    ))}\n                </tbody>\n            </table>\n        </React.Fragment>)\n    );\n\n    // console.log(summaryItems);\n\n\treturn (\n        <React.Fragment>\n            { summaryItems }\n        </React.Fragment>\n    )\n}\n\nexport default Summary;","import React from 'react';\nimport StreamContainer from '../stream/stream'\n// Modal for ClassInteractiveTest with snapshots\n\nconst Modal = (props) => {\n\treturn (\n        <div className=\"modal fade\" id={props.id} tabIndex=\"-1\" role=\"dialog\">\n        <div className=\"modal-dialog modal-lg modal-dialog-scrollable\" role=\"document\">\n            <div className=\"modal-content\">\n            <div className=\"modal-header\">\n                <h5 className=\"modal-title\" onClick={()=>{props.onClose && props.onClose()}}>{`${props.title}`}</h5>\n                <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <div className=\"modal-body\">\n                <StreamContainer dontkill={true} ip={props.ip} port={props.port}/>\n            </div>\n            <div className=\"modal-footer\">\n                {props.testIsDone && <React.Fragment>\n                    <button type=\"button\" className=\"btn btn-danger\" onClick={()=>{props.onTestFailed && props.onTestFailed()}}>Failed</button>\n                    <button type=\"button\" className=\"btn btn-success\" onClick={()=>{props.onTestPassed && props.onTestPassed()}}>Passed</button>\n                </React.Fragment>}\n                {(props.testInProgress && !props.testIsDone) ? (<span>Test in progress...</span>) : (null)}\n                {(!props.testInProgress && !props.testIsDone) ? (<button type=\"button\" className=\"btn btn-primary\" onClick={()=>{props.onStart && props.onStart()}}>Start the test</button>) : (null)}\n                \n            </div>\n            </div>\n        </div>\n        </div>\n\t)\n}\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport Summary from './summary.jsx'\nimport * as TestAction from '../../actions/testActions';\nimport '../../styles/horizontal-loader.css';\nimport { apiUrl } from '../../config';\nimport errorImg from '../../assets/letter-x.png'\nimport fetchedImg from '../../assets/tick.png'\nimport Modal from './modal.jsx'\nimport $ from 'jquery';\n\n\nfunction mapStateToProps(state) {\n    return {\n        currentDevice: state.dashboardReducer.currentDevice.data,\n        testsList: state.testReducer.tests,\n        testsFetched: state.testReducer.testInProgress,\n        testsDone: state.testReducer.done,\n        currTestIndex: state.testReducer.currIndex,\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        testActions: bindActionCreators(TestAction, dispatch)\n    }\n}\n\n\n\nexport class Report extends Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        isReportReady: false\n      }\n    }\n\n    handleDownload = (value) => {\n        this.setState(\n          {\n            isReportReady: value\n          }\n        )\n    }\n\n    componentDidMount() {\n        this.runTest()\n    }\n    componentDidUpdate() {\n        this.runTest()\n    }\n\n    runTest() {\n        const currTest = this.props.testsList[this.props.currTestIndex];\n        if (!this.props.testsDone \n            && currTest\n            && !currTest.pending\n            && Object.entries(currTest.data).length === 0\n            && !this.state.showModal) {\n\n            if (~currTest.name.indexOf('Interactive')) {\n                $('#streamModal').modal('show')\n            } else {\n                $('#streamModal').modal('hide')\n               this.props.testActions.runTest() \n            }\n        }\n    }\n\n    resolveTestManually(resolution, index) {\n        this.props.testActions.nextTest()\n        this.props.testActions.resolveTestManually(resolution, index)\n    }\n\n    downloadReport = () => {\n      this.handleDownload(true);\n    \tconst deviceData = { ...this.props.currentDevice };\n    \tconst testsList = this.props.testsList\n        .filter(item => !item.pending && !item.error);\n\n      const result = testsList.reduce((summary, item) => {\n        summary[item.service] = summary[item.service] || [];\n        summary[item.service].push(item);\n        return summary;\n      }, {});\n\n    \tconst data = {\n    \t\tcamInfo: {...deviceData},\n    \t\trunnedTests: {...result}\n      }\n\n      console.log(data);\n\n    \tfetch(`${apiUrl}/api/report`, {\n    \t \tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t  'Accept': 'application/json',\n\t\t\t  'Content-Type': 'application/json'\n\t\t\t},\n    \t\tbody: JSON.stringify(data) })\n      .then(resp => resp.json())\n      .then(json => {\n        window.open(`${apiUrl}/${json.response}`, '_blank');\n        this.handleDownload(false);\n        }\n      )\n    }\n\n    returnBack = () => {\n        fetch(`${apiUrl}/api/stop_stream?ip=${this.props.currentDevice.ip}&port=${this.props.currentDevice.port}`)\n        .then(() =>{})\n        .catch(() =>{})\n        this.props.testActions.closeTestAction();\n    }\n\n    render() {\n        const downloadBtn = !this.state.isReportReady ? (\n          <button className=\"ml-3 btn btn-primary\" onClick={() => { this.downloadReport() }}>\n            Download Report\n          </button>) : (\n          <button className=\"ml-3 btn btn-primary\" type=\"button\" disabled>\n            <span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\">\n            </span>\n            {'    Loading...'}\n          </button>\n          )\n\n        const backBtn = (\n            <button className=\"ml-3 btn btn-primary\" onClick={() => { this.returnBack() }}>\n              Back\n            </button>)\n\n        const listItems = this.props.testsList.map((item, index) => (\n            <div className=\"card\" key={index}>\n              <div className=\"card-header\" id={`heading${index}`}>\n                <h5 className=\"mb-0 d-flex justify-content-between align-items-center\">\n                  <button className=\"btn btn-link\" style={{color: 'black'}} data-toggle=\"collapse\" data-target={`#collapse${index}`} aria-expanded=\"true\" aria-controls={`#collapse${index}`}>\n                      {item.name} ({item.service})\n                  </button>\n                  <div className=\"d-inline-block\">\n                    {item.pending ? (<div className=\"typing_loader\"></div>) : null }\n                    {item.error ? (<img src={ errorImg } alt=\"error\"/>) : null }\n                    {item.data.result ? (<img src={ fetchedImg }/>) : null }\n                  </div>\n                </h5>\n              </div>\n              <div id={`collapse${index}`} className=\"collapse\" aria-labelledby={`#heading${index}`} data-parent=\"#accordion\">\n                <div className=\"card-body\">\n                  {item.data.result ? <p>{item.data.result.supported?`${item.name} is supported`:`${item.name} is not supported`}</p>: (null)}\n                  {item.data.result ? <p>{item.data.result.extension?`Test Feature: ${item.data.result.extension}`:(null)}</p>: (null)}\n                  {item.data.result ? <pre>{item.data.result.response?`Response: ${item.data.result.response}`:(null)}</pre>: (null)}\n                </div>\n              </div>\n            </div>\n        ));\n\n        const tCurrTest = this.props.testsList[this.props.currTestIndex];\n        const currIndex = this.props.currTestIndex\n        const modalTitle = tCurrTest ? tCurrTest.name : \"N/A\";\n        const testInProgress = tCurrTest && tCurrTest.pending;\n        const testIsDone = tCurrTest && Object.entries(tCurrTest.data).length !== 0\n\n        return (\n            <React.Fragment>\n              <h5>Report:</h5>\n              <div className=\"card\">\n                <div className=\"card-body\">\n                    <button className=\"m-1 btn btn-primary\" data-toggle=\"collapse\" data-target=\"#summary\">Summary</button>\n                    <div id=\"summary\" className=\"m-2 collapse\">\n                      <Summary testResponse = { this.props.testsList } />\n                    </div>\n                    <div id=\"accordion\">\n                      {listItems}\n                    </div>\n                    <div className=\"form-group d-flex justify-content-end mt-4\">\n                      {downloadBtn}\n                      {backBtn}\n                    </div>\n                </div>\n              </div>\n              {<Modal \n                id={'streamModal'} \n                title={modalTitle}\n                ip={this.props.currentDevice.ip}\n                port={this.props.currentDevice.port}\n                testInProgress={testInProgress}\n                testIsDone={testIsDone}\n                onStart={() => {this.props.testActions.runTest()}}\n                onClose={() => {this.props.testActions.nextTest()}}\n                onTestFailed={()=>{this.resolveTestManually(false, currIndex)}}\n                onTestPassed={()=>{this.resolveTestManually(true, currIndex)}}\n                />}\n            </React.Fragment>\n\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Report)\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport $ from 'jquery';\nimport Popper from 'popper.js';\nimport bootstrap from 'bootstrap';\n\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'material-icons/iconfont/material-icons.css';\nimport './styles/common.css';\n\nimport Dashboard from './components/dashboard/dashboard.jsx'\nimport Navbar from './components/navbar/navbar.jsx'\nimport Report from './components/report/report.jsx'\n\nfunction mapStateToProps(state) {\n  return {\n    testInProgress: state.testReducer.testInProgress\n  };\n}\n\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <Navbar/>\n        <div className=\"container\">\n          {this.props.testInProgress ? <Report/> : <Dashboard/>}\n        </div> \n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, null)(App)\n","import React from 'react'\nimport { render } from 'react-dom'\nimport { Provider } from 'react-redux'\nimport App from './App'\nimport store from './store'\n\n\nrender(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)"],"sourceRoot":""}